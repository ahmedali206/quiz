<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ø¯Ø§Ø© ØªØ­Ø³ÙŠÙ† ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹ Gemini</title>
    <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… Tailwind CSS Ù„Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆØ§Ù„Ø¬Ù…ÙŠÙ„ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f7fafc; /* bg-gray-100 */
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            cursor: pointer;
            opacity: 0.5;
            transition: opacity 0.2s;
        }
        .copy-btn:hover {
            opacity: 1;
        }
        details > summary {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }
         details > summary:hover {
            background-color: #f1f5f9; /* bg-slate-100 */
         }
        details[open] > summary {
            background-color: #e2e8f0; /* bg-slate-200 */
        }
        /* Ù„ØªÙ†Ø³ÙŠÙ‚ ÙƒÙˆØ¯ JSON */
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            text-align: left;
            direction: ltl;
        }
        /* --- START: CSS for Custom Toast Notification --- */
        #toast-notification {
            position: fixed;
            bottom: -100px; /* Start off-screen */
            left: 50%;
            transform: translateX(-50%);
            background-color: #2d3748; /* bg-gray-800 */
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem; /* rounded-lg */
            z-index: 1000;
            transition: bottom 0.5s ease-in-out;
        }
        #toast-notification.show {
            bottom: 20px; /* Slide in */
        }
        /* --- END: CSS for Custom Toast Notification --- */
        .result-card {
            display: none; /* Hidden by default */
        }
        .result-card.visible {
            display: block; /* Shown when there are results */
        }

        /* --- START: CSS for Full-Screen Modal --- */
        #ai-seo-top-prompt-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 900;
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
        }
        #ai-seo-top-prompt-modal.visible {
            display: flex; /* Show when active */
        }
        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 1200px;
            height: 90vh;
            border-radius: 0.5rem;
            overflow-y: auto;
            position: relative;
        }
        .modal-close-btn {
            position: absolute;
            top: 1rem;
            left: 1rem;
            cursor: pointer;
        }
        /* --- END: CSS for Full-Screen Modal --- */
    </style>
</head>
<body class="bg-gray-100">

    <div class="flex flex-col md:flex-row-reverse gap-6 max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        
        <!-- ================== Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ù„Ø£Ø¯ÙˆØ§Øª ================== -->
        <aside id="sidebar" class="w-full md:w-1/3 lg:w-1/4 md:sticky md:top-8 self-start">
            <div class="bg-white rounded-lg shadow-lg p-4 space-y-4">
                <h2 class="text-xl font-bold text-gray-800 mb-2 text-center border-b pb-2">Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª</h2>

                <!-- Ù‚Ø³Ù… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ -->
                <details class="group">
                    <summary class="font-bold text-gray-700">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</summary>
                    <div class="p-2 space-y-2">
                        <button id="geminiBtn" class="w-full text-right bg-gradient-to-r from-purple-50 to-indigo-50 text-purple-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-purple-500">
                            <span id="gemini-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø­Ø²Ù…Ø© SEO (Ø¹Ù†ÙˆØ§Ù†, ÙˆØµÙ, Slug)</span>
                            <span id="gemini-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...</span>
                        </button>
                        <button id="faqBtn" class="w-full text-right bg-gradient-to-r from-green-50 to-teal-50 text-green-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-green-500">
                            <span id="faq-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ø¦Ø¹Ø©</span>
                            <span id="faq-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <button id="schemaBtn" class="w-full text-right bg-gradient-to-r from-sky-50 to-cyan-50 text-sky-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-sky-500">
                            <span id="schema-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Schema</span>
                            <span id="schema-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                         <button id="auditBtn" class="w-full text-right bg-gradient-to-r from-slate-50 to-gray-50 text-slate-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-slate-500">
                            <span id="audit-btn-text">âœ¨ Ø¥Ø¬Ø±Ø§Ø¡ ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù„Ù…Ø­ØªÙˆÙ‰</span>
                            <span id="audit-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚...</span>
                        </button>
                        <button id="summaryBtn" class="w-full text-right bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-cyan-500">
                            <span id="summary-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ</span>
                            <span id="summary-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ„Ø®ÙŠØµ...</span>
                        </button>
                         <button id="eeatBtn" class="w-full text-right bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-gray-700">
                            <span id="eeat-btn-text">âœ¨ ØªØ­Ù„ÙŠÙ„ E-E-A-T</span>
                            <span id="eeat-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
                        </button>
                    </div>
                </details>
                
                <!-- Ù‚Ø³Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
                <details class="group">
                    <summary class="font-bold text-gray-700">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ÙˆØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ø­ØªÙˆÙ‰</summary>
                    <div class="p-2 space-y-4">
                        <button id="keywordBtn" class="w-full text-right bg-gradient-to-r from-amber-50 to-yellow-50 text-amber-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-amber-500">
                            <span id="keyword-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©</span>
                            <span id="keyword-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <button id="personaBtn" class="w-full text-right bg-gradient-to-r from-blue-50 to-teal-50 text-blue-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-blue-700">
                            <span id="persona-btn-text">âœ¨ ØªØ­Ø¯ÙŠØ¯ Ø´Ø®ØµÙŠØ© Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±</span>
                            <span id="persona-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
                        </button>
                        <!-- Ù…ÙˆØ¬Ø² Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
                        <div class="space-y-2">
                             <input type="text" id="briefTopicInput" placeholder="Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù…ÙˆØ¬Ø² Ø§Ù„Ù…Ø­ØªÙˆÙ‰..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                             <button id="briefBtn" class="w-full bg-indigo-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-indigo-600">
                                <span id="brief-btn-text">ØªÙˆÙ„ÙŠØ¯ Ù…ÙˆØ¬Ø² Ø§Ù„Ù…Ø­ØªÙˆÙ‰</span>
                                <span id="brief-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                            </button>
                        </div>
                        <!-- Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ -->
                        <div class="space-y-2">
                             <input type="text" id="clusterTopicInput" placeholder="Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                             <button id="clusterBtn" class="w-full bg-purple-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-purple-600">
                                <span id="cluster-btn-text">ØªÙˆÙ„ÙŠØ¯ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹</span>
                                <span id="cluster-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                            </button>
                        </div>
                    </div>
                </details>

                <!-- Ù‚Ø³Ù… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
                <details class="group">
                    <summary class="font-bold text-gray-700">Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØ¯ÙˆÙŠØ± Ø§Ù„Ù…Ø­ØªÙˆÙ‰</summary>
                     <div class="p-2 space-y-4">
                         <!-- ØªÙˆÙ„ÙŠØ¯ Ù…Ø³ÙˆØ¯Ø© Ù…Ù‚Ø§Ù„ -->
                        <div class="space-y-2">
                             <input type="text" id="draftTopicInput" placeholder="Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ù…Ù‚Ø§Ù„..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                             <button id="draftBtn" class="w-full bg-green-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-green-600">
                                <span id="draft-btn-text">ØªÙˆÙ„ÙŠØ¯ Ù…Ø³ÙˆØ¯Ø© Ù…Ù‚Ø§Ù„</span>
                                <span id="draft-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                            </button>
                        </div>
                        <button id="repurposeBtn" class="w-full text-right bg-gradient-to-r from-orange-50 to-yellow-50 text-orange-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-orange-600">
                            <span id="repurpose-btn-text">âœ¨ Ø£ÙÙƒØ§Ø± Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ¯ÙˆÙŠØ± Ø§Ù„Ù…Ø­ØªÙˆÙ‰</span>
                            <span id="repurpose-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <button id="altTextBtn" class="w-full text-right bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-gray-400">
                            <span id="alt-text-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ù†ØµÙˆØµ Ø¨Ø¯ÙŠÙ„Ø© Ù„Ù„ØµÙˆØ±</span>
                            <span id="alt-text-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                     </div>
                </details>

                <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ±ÙˆÙŠØ¬ ÙˆØ§Ù„ØªØ³ÙˆÙŠÙ‚ -->
                <details class="group">
                    <summary class="font-bold text-gray-700">Ø§Ù„ØªØ±ÙˆÙŠØ¬ ÙˆØ§Ù„ØªØ³ÙˆÙŠÙ‚</summary>
                     <div class="p-2 space-y-2">
                        <button id="socialBtn" class="w-full text-right bg-gradient-to-r from-pink-50 to-rose-50 text-pink-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-pink-500">
                            <span id="social-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ù…Ù†Ø´ÙˆØ±Ø§Øª ØªÙˆØ§ØµÙ„ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</span>
                            <span id="social-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <button id="videoBtn" class="w-full text-right bg-gradient-to-r from-red-50 to-orange-50 text-red-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-red-500">
                            <span id="video-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø£ÙÙƒØ§Ø± ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ±</span>
                            <span id="video-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <button id="youtubeSeoBtn" class="w-full text-right bg-gradient-to-r from-red-100 to-red-200 text-red-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-red-600">
                            <span id="youtube-seo-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ SEO Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠÙˆØªÙŠÙˆØ¨</span>
                            <span id="youtube-seo-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <button id="emailBtn" class="w-full text-right bg-gradient-to-r from-teal-50 to-cyan-50 text-teal-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-teal-600">
                            <span id="email-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ù…Ø³ÙˆØ¯Ø© Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>
                            <span id="email-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                     </div>
                </details>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
                <details class="group">
                    <summary class="font-bold text-gray-700">Ø£Ø¯ÙˆØ§Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©</summary>
                     <div class="p-2 space-y-4">
                        <!-- ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† -->
                        <div class="space-y-2 p-2 border rounded-lg">
                            <p class="text-sm font-semibold text-gray-600">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† ÙˆÙØ¬ÙˆØ§Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰</p>
                            <input type="url" id="competitorUrl1" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø£ÙˆÙ„ (Ù…Ø·Ù„ÙˆØ¨)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500">
                            <input type="url" id="competitorUrl2" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500">
                            <input type="url" id="competitorUrl3" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø«Ø§Ù„Ø« (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500">
                            <input type="url" id="competitorUrl4" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø±Ø§Ø¨Ø¹ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500">
                            <button id="competitorBtn" class="w-full bg-red-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-red-600">
                                <span id="competitor-btn-text">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†</span>
                                <span id="competitor-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
                            </button>
                         </div>
                         <!-- Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© 10x -->
                         <div class="space-y-2 p-2 border rounded-lg">
                             <p class="text-sm font-semibold text-gray-600">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ÙØ¶Ù„ (10x)</p>
                             <input type="url" id="tenXCompetitorUrl1" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø£ÙˆÙ„ (Ù…Ø·Ù„ÙˆØ¨)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                             <input type="url" id="tenXCompetitorUrl2" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                             <input type="url" id="tenXCompetitorUrl3" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø«Ø§Ù„Ø« (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                             <input type="url" id="tenXCompetitorUrl4" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø±Ø§Ø¨Ø¹ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                             <button id="tenXBtn" class="w-full bg-purple-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-purple-700">
                                <span id="tenX-btn-text">Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆØ¬Ø² 10x</span>
                                <span id="tenX-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...</span>
                            </button>
                         </div>
                         <!-- ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­Ø³Ø¨ Ø±Ø­Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
                         <div class="space-y-2 p-2 border rounded-lg">
                            <p class="text-sm font-semibold text-gray-600">ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­Ø³Ø¨ Ø§Ù„Ù‡Ø¯Ù</p>
                             <input type="text" id="journeyGoalInput" placeholder="Ø£Ø¯Ø®Ù„ Ù‡Ø¯ÙÙƒ (Ù…Ø«Ø§Ù„: Ø¨ÙŠØ¹ Ù…Ù†ØªØ¬)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500">
                             <button id="journeyBtn" class="w-full bg-pink-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-pink-700">
                                <span id="journey-btn-text">Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚ÙˆÙŠÙ… Ø±Ø­Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„</span>
                                <span id="journey-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...</span>
                            </button>
                         </div>
                          <!-- ØªØ­ÙˆÙŠÙ„ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ù„Ù…Ø­ØªÙˆÙ‰ -->
                         <div class="space-y-2 p-2 border rounded-lg">
                            <p class="text-sm font-semibold text-gray-600">Ù…Ù† Ù…Ø´ÙƒÙ„Ø© Ø¥Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰</p>
                             <textarea id="painPointInput" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø´ÙƒÙ„Ø© Ø¬Ù…Ù‡ÙˆØ±Ùƒ..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500" rows="3"></textarea>
                             <button id="painPointBtn" class="w-full bg-cyan-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-cyan-700">
                                <span id="painPoint-btn-text">ØªÙˆÙ„ÙŠØ¯ Ø£ÙÙƒØ§Ø± Ù…Ø­ØªÙˆÙ‰</span>
                                <span id="painPoint-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                            </button>
                         </div>
                         <button id="abTestBtn" class="w-full text-right bg-gradient-to-r from-indigo-50 to-blue-50 text-indigo-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-indigo-400">
                            <span id="ab-test-btn-text">âœ¨ Ø§Ù‚ØªØ±Ø§Ø­ Ø¹Ù†Ø§ÙˆÙŠÙ† Ù„Ø§Ø®ØªØ¨Ø§Ø± A/B</span>
                            <span id="ab-test-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <button id="linkingBtn" class="w-full text-right bg-gradient-to-r from-lime-50 to-emerald-50 text-lime-800 font-bold px-4 py-3 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-lime-500">
                            <span id="linking-btn-text">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</span>
                            <span id="linking-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                        </button>
                        <!-- Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ -->
                         <div class="space-y-2">
                            <textarea id="productDescInput" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ Ù„ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ø¦Ø¹Ø©..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500" rows="3"></textarea>
                             <button id="productFaqBtn" class="w-full bg-teal-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-teal-600">
                                <span id="product-faq-btn-text">ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬</span>
                                <span id="product-faq-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                            </button>
                         </div>
                     </div>
                </details>

                <!-- ================== Ù‚Ø³Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ø¬Ø¯Ø§Ù‹ ================== -->
                <details class="group" open>
                    <summary class="font-bold text-gray-700">Ø£Ø¯ÙˆØ§Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© plus</summary>
                     <div class="p-2 space-y-4">
                        <!-- Ù…Ø³Ø§Ø¹Ø¯ ØªÙ‚Ù„ÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
                        <div class="space-y-2 p-2 border rounded-lg">
                            <p class="text-sm font-semibold text-gray-600">ğŸ“ Ù…Ø³Ø§Ø¹Ø¯ ØªÙ‚Ù„ÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰</p>
                            <input type="url" id="pruningUrlInput" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ù‚Ø¯ÙŠÙ…..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500">
                            <button id="pruningBtn" class="w-full bg-red-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-red-600">
                                <span id="pruning-btn-text">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØªÙˆØµÙŠØ©</span>
                                <span id="pruning-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
                            </button>
                        </div>
                        <!-- Ù…Ø®Ø·Ø· Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø§Ù„Ø°ÙƒÙŠ -->
                        <div class="space-y-2 p-2 border rounded-lg">
                            <p class="text-sm font-semibold text-gray-600">ğŸ”— Ù…Ø®Ø·Ø· Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø§Ù„Ø°ÙƒÙŠ</p>
                            <textarea id="linkingUrlsInput" placeholder="Ø¶Ø¹ Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø±ÙˆØ§Ø¨Ø· Ù…Ù‚Ø§Ù„Ø§ØªÙƒ Ù‡Ù†Ø§ (ÙƒÙ„ Ø±Ø§Ø¨Ø· ÙÙŠ Ø³Ø·Ø±)..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" rows="4"></textarea>
                            <button id="smartLinkingBtn" class="w-full bg-blue-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-600">
                                <span id="smartLinking-btn-text">Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ø§Ù„Ø±Ø¨Ø·</span>
                                <span id="smartLinking-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...</span>
                            </button>
                        </div>
                        <!-- Ø£Ø¯Ø§Ø© ØªÙˆØ³ÙŠØ¹ "Ø£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰" -->
                        <div class="space-y-2 p-2 border rounded-lg">
                           <p class="text-sm font-semibold text-gray-600">â“ Ø£Ø¯Ø§Ø© ØªÙˆØ³ÙŠØ¹ "Ø£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰"</p>
                            <input type="text" id="paaKeywordInput" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…ØªÙƒ Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            <button id="paaBtn" class="w-full bg-green-500 text-white font-bold px-4 py-2 rounded-lg hover:bg-green-600">
                               <span id="paa-btn-text">ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</span>
                               <span id="paa-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØ³ÙŠØ¹...</span>
                           </button>
                        </div>
                         <!-- Ù…Ø¹Ø²Ø² Ø¥Ø´Ø§Ø±Ø§Øª E-E-A-T -->
                        <div class="space-y-2 p-2 border rounded-lg">
                           <p class="text-sm font-semibold text-gray-600">ğŸ›¡ï¸ Ù…Ø¹Ø²Ø² Ø¥Ø´Ø§Ø±Ø§Øª E-E-A-T</p>
                           <button id="eeatBoosterBtn" class="w-full bg-gray-700 text-white font-bold px-4 py-2 rounded-lg hover:bg-gray-800">
                              <span id="eeatBooster-btn-text">Ø¹Ø²Ø² Ø¥Ø´Ø§Ø±Ø§Øª E-E-A-T</span>
                              <span id="eeatBooster-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                          </button>
                        </div>
                     </div>
                </details>


                 <!-- ================== AI SEO TOP PROMPT Tool ================== -->
                <div class="mt-4 pt-4 border-t-2 border-dashed border-yellow-500">
                    <button id="aiSeoTopPromptBtn" class="w-full text-center bg-gradient-to-r from-amber-400 to-yellow-500 text-white font-bold px-4 py-4 rounded-lg hover:opacity-90 transition-all focus:outline-none focus:ring-2 focus:ring-yellow-500 ring-offset-2 transform hover:scale-105">
                        <span id="aiSeoTopPrompt-btn-text">ğŸš€ AI SEO TOP PROMPT ğŸš€</span>
                        <span id="aiSeoTopPrompt-btn-loader" class="hidden w-full text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„...</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- ================== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ================== -->
        <main class="w-full md:w-2/3 lg:w-3/4 space-y-6">
            <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <div class="text-center mb-6">
                    <h1 class="text-2xl md:text-3xl font-bold text-gray-800">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„</h1>
                    <p class="text-gray-500 mt-2">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø£ÙŠ ØµÙØ­Ø© Ù„ØªØ­Ù„ÙŠÙ„ Ù…Ø­ØªÙˆØ§Ù‡Ø§.</p>
                </div>

                <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
                <div class="flex flex-col sm:flex-row gap-2 mb-6">
                    <input type="url" id="urlInput" placeholder="https://example.com/page" class="flex-grow w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" required>
                    <button id="generateBtn" class="w-full sm:w-auto bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        <span id="btn-text">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø§Ø¨Ø·</span>
                        <span id="btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
                    </button>
                </div>

                <!-- Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
                <div id="results" class="space-y-6 hidden">
                    <div>
                        <h3 class="text-lg font-bold text-gray-700 mb-2">ğŸ’¡ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ù„Øµ:</h3>
                        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <p id="suggestedTitle" class="text-gray-800"></p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-700 mb-2">ğŸ“ Ø§Ù„ÙˆØµÙ Ø§Ù„Ù…Ø³ØªØ®Ù„Øµ:</h3>
                        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <p id="suggestedDesc" class="text-gray-800"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ø­Ø§ÙˆÙŠØ§Øª Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (Ø³ØªØ¸Ù‡Ø± ÙƒØ¨Ø·Ø§Ù‚Ø§Øª Ù…Ù†ÙØµÙ„Ø©) -->
            <div id="gemini-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø­Ø²Ù…Ø© SEO</h2>
                <div id="gemini-suggestions-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
            </div>
            
            <div id="faq-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© (FAQ)</h2>
                <div id="faq-container" class="space-y-4"></div>
            </div>

            <div id="brief-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ù…ÙˆØ¬Ø² Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù‚ØªØ±Ø­</h2>
                <div id="brief-container" class="space-y-6"></div>
            </div>
            
            <div id="cluster-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h2>
                <div id="cluster-container" class="space-y-4"></div>
            </div>
            
            <div id="schema-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø¨ÙŠØ§Ù†Ø§Øª Schema Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© (JSON-LD)</h2>
                 <div class="bg-gray-900 text-white p-4 rounded-lg relative">
                     <div onclick="copyToClipboard(this.nextElementSibling.innerText)" class="copy-btn" title="Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/><path d="M4 1.5H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h1z"/><path d="M4 1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5"/></svg>
                     </div>
                     <pre><code id="schema-container"></code></pre>
                 </div>
            </div>
            
            <div id="social-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h2>
                 <div id="social-container" class="space-y-6"></div>
            </div>
            
            <div id="keyword-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h2>
                 <div id="keyword-container" class="space-y-6"></div>
            </div>

            <div id="audit-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ØªÙ‚Ø±ÙŠØ± ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h2>
                 <div id="audit-container" class="space-y-6"></div>
            </div>
            
            <div id="video-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø£ÙÙƒØ§Ø± ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ± Ù…Ù‚ØªØ±Ø­Ø©</h2>
                 <div id="video-container" class="space-y-6"></div>
            </div>

            <div id="linking-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</h2>
                 <div id="linking-container" class="space-y-6"></div>
            </div>
            
            <div id="summary-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ</h2>
                 <div id="summary-container" class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm relative"></div>
            </div>

            <div id="eeat-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ØªÙ‚Ø±ÙŠØ± ØªØ­Ù„ÙŠÙ„ E-E-A-T</h2>
                 <div id="eeat-container" class="space-y-6"></div>
            </div>
            
            <div id="persona-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ØªØ­Ù„ÙŠÙ„ Ø´Ø®ØµÙŠØ© Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± (Persona)</h2>
                 <div id="persona-container" class="space-y-6"></div>
            </div>

            <div id="competitor-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ØªÙ‚Ø±ÙŠØ± ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†</h2>
                 <div id="competitor-container" class="space-y-6"></div>
            </div>
            
            <div id="repurpose-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø£ÙÙƒØ§Ø± Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ¯ÙˆÙŠØ± Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h2>
                 <div id="repurpose-container" class="space-y-4"></div>
            </div>

            <div id="draft-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h2>
                 <div id="draft-container" class="space-y-6"></div>
            </div>
            
            <div id="youtube-seo-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">SEO Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠÙˆØªÙŠÙˆØ¨</h2>
                 <div id="youtube-seo-container" class="space-y-6"></div>
            </div>

            <div id="email-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h2>
                 <div id="email-container" class="space-y-6"></div>
            </div>

            <div id="alt-text-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ù„Ù„ØµÙˆØ± (Alt Text)</h2>
                 <div id="alt-text-container" class="space-y-4"></div>
            </div>

            <div id="ab-test-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¹Ù†Ø§ÙˆÙŠÙ† Ù„Ø§Ø®ØªØ¨Ø§Ø± A/B</h2>
                 <div id="ab-test-container" class="space-y-6"></div>
            </div>

            <!-- ================== Ø­Ø§ÙˆÙŠØ§Øª Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ================== -->
            <div id="tenX-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ù…ÙˆØ¬Ø² Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ÙØ¶Ù„ (10x)</h2>
                <div id="tenX-container" class="space-y-6"></div>
            </div>
            <div id="journey-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­Ø³Ø¨ Ø±Ø­Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„</h2>
                <div id="journey-container" class="space-y-6"></div>
            </div>
             <div id="painPoint-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø£ÙÙƒØ§Ø± Ù…Ø­ØªÙˆÙ‰ Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±</h2>
                <div id="painPoint-container" class="space-y-4"></div>
            </div>
             <div id="calendar-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ø§Ù„Ù…Ù‚ØªØ±Ø­</h2>
                <div id="calendar-container" class="space-y-4"></div>
            </div>
            <div id="product-faq-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© Ù„Ù„Ù…Ù†ØªØ¬</h2>
                <div id="product-faq-container" class="space-y-4"></div>
            </div>

            <!-- ================== Ø­Ø§ÙˆÙŠØ§Øª Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ø¬Ø¯Ø§Ù‹ ================== -->
             <div id="pruning-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ğŸ“ ØªÙˆØµÙŠØ© ØªÙ‚Ù„ÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h2>
                <div id="pruning-container" class="space-y-4"></div>
            </div>
             <div id="smartLinking-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ğŸ”— ÙØ±Øµ Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø§Ù„Ø°ÙƒÙŠØ©</h2>
                <div id="smartLinking-container" class="space-y-4"></div>
            </div>
            <div id="paa-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">â“ Ø´Ø¨ÙƒØ© "Ø£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰ ÙŠØ·Ø±Ø­Ù‡Ø§ Ø§Ù„Ø¢Ø®Ø±ÙˆÙ†"</h2>
                <div id="paa-container" class="space-y-4"></div>
            </div>
            <div id="eeatBooster-results" class="result-card bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 text-center mb-4 border-b pb-2">ğŸ›¡ï¸ Ù…Ù‚ØªØ±Ø­Ø§Øª Ù„ØªØ¹Ø²ÙŠØ² Ø¥Ø´Ø§Ø±Ø§Øª E-E-A-T</h2>
                <div id="eeatBooster-container" class="space-y-4"></div>
            </div>


            <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ -->
            <div id="error-container" class="hidden mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg" role="alert">
                <strong class="font-bold">Ø­Ø¯Ø« Ø®Ø·Ø£!</strong>
                <span id="error-message" class="block sm:inline"></span>
            </div>

            <footer class="text-center text-gray-500 mt-6 text-sm">
                <p>Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ³ØªØ®Ø¯Ù… ÙˆØ§Ø¬Ù‡Ø© API Ù…Ø®ØµØµØ© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø´ÙƒÙ„ Ù…ÙˆØ«ÙˆÙ‚.</p>
                <p class="mt-2">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 1.8 | Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 16 Ø³Ø¨ØªÙ…Ø¨Ø± 2025</p>
                <p class="mt-2"> by Mohamed Elgendy</p>
            </footer>
        </main>
    </div>

    <!-- ================== AI SEO TOP PROMPT Modal ================== -->
    <div id="ai-seo-top-prompt-modal">
        <div class="modal-content p-6 md:p-8">
            <div class="modal-close-btn" onclick="ui.aiSeoTopPrompt.modal.classList.remove('visible')">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="text-gray-500 hover:text-gray-800" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
            </div>
            <div id="aiSeoTopPrompt-container" class="space-y-6">
                <!-- Content will be injected by JavaScript -->
            </div>
        </div>
    </div>


    <!-- Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø®ØµØµ -->
    <div id="toast-notification">ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¨Ù†Ø¬Ø§Ø­!</div>

    <script>
        // --- Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (Selectors) ---
        const ui = {
            urlInput: document.getElementById('urlInput'),
            generateBtn: document.getElementById('generateBtn'),
            resultsDiv: document.getElementById('results'),
            errorContainer: document.getElementById('error-container'),
            errorMessage: document.getElementById('error-message'),
            suggestedTitle: document.getElementById('suggestedTitle'),
            suggestedDesc: document.getElementById('suggestedDesc'),
            
            // --- Gemini Buttons & Result Containers ---
            gemini: { btn: document.getElementById('geminiBtn'), container: document.getElementById('gemini-suggestions-container'), resultsDiv: document.getElementById('gemini-results') },
            faq: { btn: document.getElementById('faqBtn'), container: document.getElementById('faq-container'), resultsDiv: document.getElementById('faq-results') },
            schema: { btn: document.getElementById('schemaBtn'), container: document.getElementById('schema-container'), resultsDiv: document.getElementById('schema-results') },
            social: { btn: document.getElementById('socialBtn'), container: document.getElementById('social-container'), resultsDiv: document.getElementById('social-results') },
            keyword: { btn: document.getElementById('keywordBtn'), container: document.getElementById('keyword-container'), resultsDiv: document.getElementById('keyword-results') },
            audit: { btn: document.getElementById('auditBtn'), container: document.getElementById('audit-container'), resultsDiv: document.getElementById('audit-results') },
            video: { btn: document.getElementById('videoBtn'), container: document.getElementById('video-container'), resultsDiv: document.getElementById('video-results') },
            linking: { btn: document.getElementById('linkingBtn'), container: document.getElementById('linking-container'), resultsDiv: document.getElementById('linking-results') },
            summary: { btn: document.getElementById('summaryBtn'), container: document.getElementById('summary-container'), resultsDiv: document.getElementById('summary-results') },
            eeat: { btn: document.getElementById('eeatBtn'), container: document.getElementById('eeat-container'), resultsDiv: document.getElementById('eeat-results') },
            persona: { btn: document.getElementById('personaBtn'), container: document.getElementById('persona-container'), resultsDiv: document.getElementById('persona-results') },
            repurpose: { btn: document.getElementById('repurposeBtn'), container: document.getElementById('repurpose-container'), resultsDiv: document.getElementById('repurpose-results') },
            youtubeSeo: { btn: document.getElementById('youtubeSeoBtn'), container: document.getElementById('youtube-seo-container'), resultsDiv: document.getElementById('youtube-seo-results') },
            email: { btn: document.getElementById('emailBtn'), container: document.getElementById('email-container'), resultsDiv: document.getElementById('email-results') },
            altText: { btn: document.getElementById('altTextBtn'), container: document.getElementById('alt-text-container'), resultsDiv: document.getElementById('alt-text-results') },
            abTest: { btn: document.getElementById('abTestBtn'), container: document.getElementById('ab-test-container'), resultsDiv: document.getElementById('ab-test-results') },

            // --- Strategic Planning Tools ---
            brief: { btn: document.getElementById('briefBtn'), input: document.getElementById('briefTopicInput'), container: document.getElementById('brief-container'), resultsDiv: document.getElementById('brief-results') },
            cluster: { btn: document.getElementById('clusterBtn'), input: document.getElementById('clusterTopicInput'), container: document.getElementById('cluster-container'), resultsDiv: document.getElementById('cluster-results') },
            draft: { btn: document.getElementById('draftBtn'), input: document.getElementById('draftTopicInput'), container: document.getElementById('draft-container'), resultsDiv: document.getElementById('draft-results') },
            productFaq: { btn: document.getElementById('productFaqBtn'), input: document.getElementById('productDescInput'), container: document.getElementById('product-faq-container'), resultsDiv: document.getElementById('product-faq-results') },
            
            // --- Advanced Strategic Tools ---
            competitor: { btn: document.getElementById('competitorBtn'), input1: document.getElementById('competitorUrl1'), input2: document.getElementById('competitorUrl2'), input3: document.getElementById('competitorUrl3'), input4: document.getElementById('competitorUrl4'), container: document.getElementById('competitor-container'), resultsDiv: document.getElementById('competitor-results') },
            tenX: { btn: document.getElementById('tenXBtn'), input1: document.getElementById('tenXCompetitorUrl1'), input2: document.getElementById('tenXCompetitorUrl2'), input3: document.getElementById('tenXCompetitorUrl3'), input4: document.getElementById('tenXCompetitorUrl4'), container: document.getElementById('tenX-container'), resultsDiv: document.getElementById('tenX-results') },
            journey: { btn: document.getElementById('journeyBtn'), input: document.getElementById('journeyGoalInput'), container: document.getElementById('journey-container'), resultsDiv: document.getElementById('journey-results') },
            painPoint: { btn: document.getElementById('painPointBtn'), input: document.getElementById('painPointInput'), container: document.getElementById('painPoint-container'), resultsDiv: document.getElementById('painPoint-results') },
            calendar: { btn: document.getElementById('calendarBtn'), input: document.getElementById('calendarTopicInput'), container: document.getElementById('calendar-container'), resultsDiv: document.getElementById('calendar-results') },

            // --- Very Advanced Strategic Tools ---
            pruning: { btn: document.getElementById('pruningBtn'), input: document.getElementById('pruningUrlInput'), container: document.getElementById('pruning-container'), resultsDiv: document.getElementById('pruning-results') },
            smartLinking: { btn: document.getElementById('smartLinkingBtn'), input: document.getElementById('linkingUrlsInput'), container: document.getElementById('smartLinking-container'), resultsDiv: document.getElementById('smartLinking-results') },
            paa: { btn: document.getElementById('paaBtn'), input: document.getElementById('paaKeywordInput'), container: document.getElementById('paa-container'), resultsDiv: document.getElementById('paa-results') },
            eeatBooster: { btn: document.getElementById('eeatBoosterBtn'), container: document.getElementById('eeatBooster-container'), resultsDiv: document.getElementById('eeatBooster-results') },
            serp: { btn: document.getElementById('serpBtn'), input: document.getElementById('serpKeywordInput'), container: document.getElementById('serp-container'), resultsDiv: document.getElementById('serp-results') },
            refresh: { btn: document.getElementById('refreshBtn'), input: document.getElementById('refreshCompetitorUrl'), container: document.getElementById('refresh-container'), resultsDiv: document.getElementById('refresh-results') },
            authority: { btn: document.getElementById('authorityBtn'), input: document.getElementById('authorityTopicInput'), container: document.getElementById('authority-container'), resultsDiv: document.getElementById('authority-results') },
            audience: { btn: document.getElementById('audienceBtn'), input: document.getElementById('audienceUrlInput'), container: document.getElementById('audience-container'), resultsDiv: document.getElementById('audience-results') },


            // --- AI SEO TOP PROMPT Tool ---
            aiSeoTopPrompt: { btn: document.getElementById('aiSeoTopPromptBtn'), modal: document.getElementById('ai-seo-top-prompt-modal'), container: document.getElementById('aiSeoTopPrompt-container') }
        };

        let pageContentForGemini = '';

        // --- Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ---
        ui.generateBtn.addEventListener('click', handleInitialAnalysis);
        ui.aiSeoTopPrompt.btn.addEventListener('click', handleAiSeoTopPrompt);

        // --- Universal handler for content-based Gemini features ---
        const contentBasedFeatures = ['gemini', 'faq', 'schema', 'social', 'keyword', 'audit', 'video', 'linking', 'summary', 'eeat', 'persona', 'repurpose', 'youtubeSeo', 'email', 'altText', 'abTest', 'eeatBooster'];
        contentBasedFeatures.forEach(name => {
            if (ui[name] && ui[name].btn) {
                ui[name].btn.addEventListener('click', () => handleGeminiRequest(name, () => pageContentForGemini, `callGeminiFor${capitalize(name)}`));
            }
        });
        
        // --- Handlers for input-based Gemini features ---
        ui.brief.btn.addEventListener('click', () => handleGeminiRequest('brief', () => ui.brief.input.value, 'callGeminiForBrief', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙˆØ¶ÙˆØ¹ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ÙˆØ¬Ø².'));
        ui.cluster.btn.addEventListener('click', () => handleGeminiRequest('cluster', () => ui.cluster.input.value, 'callGeminiForCluster', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙˆØ¶ÙˆØ¹ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹.'));
        ui.draft.btn.addEventListener('click', () => handleGeminiRequest('draft', () => ui.draft.input.value, 'callGeminiForDraft', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙˆØ¶ÙˆØ¹ Ù„ØªÙˆÙ„ÙŠØ¯ Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ù…Ù‚Ø§Ù„.'));
        ui.productFaq.btn.addEventListener('click', () => handleGeminiRequest('productFaq', () => ui.productFaq.input.value, 'callGeminiForProductFaq', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬.'));
        
        // --- Handlers for Advanced Strategic Tools ---
        ui.competitor.btn.addEventListener('click', handleCompetitorAnalysis);
        ui.tenX.btn.addEventListener('click', handleTenXRequest);
        ui.journey.btn.addEventListener('click', () => handleGeminiRequest('journey', () => ui.journey.input.value, 'callGeminiForJourney', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù‡Ø¯ÙÙƒ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚ÙˆÙŠÙ….'));
        ui.painPoint.btn.addEventListener('click', () => handleGeminiRequest('painPoint', () => ui.painPoint.input.value, 'callGeminiForPainPoint', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±.'));
        if (ui.calendar && ui.calendar.btn) {
            ui.calendar.btn.addEventListener('click', () => handleGeminiRequest('calendar', () => ui.calendar.input.value, 'callGeminiForCalendar', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙˆØ¶ÙˆØ¹ Ù„ØªÙˆÙ„ÙŠØ¯ ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰.'));
        }

        // --- Handlers for Very Advanced Strategic Tools Plus ---
        ui.pruning.btn.addEventListener('click', handleContentPruning);
        ui.smartLinking.btn.addEventListener('click', handleSmartLinking);
        ui.paa.btn.addEventListener('click', () => handleGeminiRequest('paa', () => ui.paa.input.value, 'callGeminiForPaa', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ù…ÙØªØ§Ø­ÙŠØ© Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£Ø³Ø¦Ù„Ø©.'));
        
        // FIX: Removed event listeners for elements that do not exist
        // ui.serp.btn.addEventListener('click', () => handleGeminiRequest('serp', () => ui.serp.input.value, 'callGeminiForSerp', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ù…ÙØªØ§Ø­ÙŠØ©.'));
        // ui.refresh.btn.addEventListener('click', handleContentRefresh);
        // ui.authority.btn.addEventListener('click', () => handleGeminiRequest('authority', () => ui.authority.input.value, 'callGeminiForAuthority', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙˆØ¶ÙˆØ¹ Ø±Ø¦ÙŠØ³ÙŠ.'));
        // ui.audience.btn.addEventListener('click', handleAudienceAnalysis);

        
        // --- Capitalize helper ---
        function capitalize(s) { return s.charAt(0).toUpperCase() + s.slice(1); }

        async function fetchWithFallbacks(url) {
            const encodedUrl = encodeURIComponent(url);
            const proxies = [ `https://api.allorigins.win/raw?url=${encodedUrl}`, `https://corsproxy.io/?${encodedUrl}` ];
            for (const proxyUrl of proxies) {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 15000);
                try {
                    const response = await fetch(proxyUrl, { signal: controller.signal });
                    clearTimeout(timeoutId);
                    if (response.ok) {
                        const text = await response.text();
                        if (text) return text;
                    }
                } catch (error) {
                    clearTimeout(timeoutId);
                    console.warn(`Proxy failed: ${proxyUrl}`, error);
                }
            }
            throw new Error("ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø®Ø¯Ù…Ø§Øª Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰. Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø­Ù…ÙŠØ§Ù‹ Ø£Ùˆ ÙŠÙˆØ¬Ø¯ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©.");
        }


        function extractMainContent(doc) {
            const selectorsToRemove = 'nav, footer, header, aside, script, style, .ad, [class*="sidebar"], [id*="sidebar"], [class*="comment"], [id*="comment"], [class*="footer"], [id*="footer"], [class*="promo"], [id*="promo"]';
            doc.querySelectorAll(selectorsToRemove).forEach(el => el.remove());
            const mainContentSelectors = [ 'article', '[role="main"]', 'main', '.post-content', '.entry-content', '[class*="article-body"]', '#content', '#main', '.post' ];
            for (const selector of mainContentSelectors) {
                const element = doc.querySelector(selector);
                if (element && element.innerText.trim().length > 200) {
                     return element.innerText.trim();
                }
            }
            return doc.body ? doc.body.innerText.trim() : '';
        }

        async function handleInitialAnalysis() {
            const url = ui.urlInput.value.trim();
            if (!url || !url.startsWith('http')) {
                showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· ØµØ­ÙŠØ­ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ http Ø£Ùˆ https.');
                return;
            }
            setLoading(true, 'generateBtn');
            
            document.querySelectorAll('.result-card').forEach(el => el.classList.remove('visible'));
            ui.resultsDiv.classList.add('hidden');
            ui.errorContainer.classList.add('hidden');

            try {
                const html = await fetchWithFallbacks(url);
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                pageContentForGemini = extractMainContent(doc);

                if (!pageContentForGemini || pageContentForGemini.length < 150) {
                    throw new Error('Ù„Ù… Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ø³ØªØ®Ù„Ø§Øµ Ù…Ø­ØªÙˆÙ‰ ÙƒØ§ÙÙ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ù„Ù„ØªØ­Ù„ÙŠÙ„. Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„ØµÙØ­Ø© Ù…Ø­Ù…ÙŠØ© Ø£Ùˆ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ JavaScript Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ±.');
                }
                
                const { mainHeading, finalDescription } = extractBasicInfo(doc);
                ui.suggestedTitle.textContent = mainHeading;
                ui.suggestedDesc.textContent = finalDescription;
                ui.resultsDiv.classList.remove('hidden');

            } catch (error) {
                console.error('Analysis failed:', error);
                showError(error.message || 'Ù„Ù… Ù†ØªÙ…ÙƒÙ† Ù…Ù† ØªØ­Ù„ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø·.');
            } finally {
                setLoading(false, 'generateBtn');
            }
        }

        async function handleGeminiRequest(name, getInput, apiCallName, validationErrorMsg) {
            const input = getInput();
            if (validationErrorMsg && !input) return showError(validationErrorMsg);
            
            const isContentIndependent = ['draft', 'calendar', 'cluster', 'brief', 'productFaq', 'journey', 'painPoint', 'paa', 'authority', 'serp'].includes(name);
            if (!input && !pageContentForGemini && !isContentIndependent) {
                 return showError('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰ Ù„ØªØ­Ù„ÙŠÙ„Ù‡. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø£ÙˆÙ„Ø§Ù‹.');
            }
            
            setLoading(true, ui[name].btn);
            if(ui[name].resultsDiv) ui[name].resultsDiv.classList.remove('visible');
            if(ui[name].container) ui[name].container.innerHTML = '';
            
            try {
                const result = await window[apiCallName](input);
                window[`display${capitalize(name)}Results`](result[Object.keys(result)[0]]);
                if(ui[name].resultsDiv) ui[name].resultsDiv.classList.add('visible');
            } catch (error) {
                console.error(`Gemini API Error (${name}):`, error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰. ${error.message}`);
            } finally {
                setLoading(false, ui[name].btn);
            }
        }
        
        async function handleContentPruning() {
            const url = ui.pruning.input.value.trim();
            if(!url) return showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ù‚Ø¯ÙŠÙ….');

            setLoading(true, ui.pruning.btn);
            ui.pruning.resultsDiv.classList.remove('visible');
            ui.pruning.container.innerHTML = '';
            
            try {
                const html = await fetchWithFallbacks(url);
                const doc = new DOMParser().parseFromString(html, 'text/html');
                const content = extractMainContent(doc);
                if (!content || content.length < 100) throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ ÙƒØ§ÙÙ ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø·.');

                const { contentPruningDecision } = await callGeminiForPruning(content);
                displayPruningResults(contentPruningDecision);
                ui.pruning.resultsDiv.classList.add('visible');

            } catch(error) {
                console.error("Content Pruning Error:", error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ Ù„Ù„ØªÙ‚Ù„ÙŠÙ…. ${error.message}`);
            } finally {
                setLoading(false, ui.pruning.btn);
            }
        }

        async function handleSmartLinking() {
            const urlsText = ui.smartLinking.input.value.trim();
            if (!pageContentForGemini) return showError('ÙŠØ±Ø¬Ù‰ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø£ÙˆÙ„Ø§Ù‹.');
            if (!urlsText) return showError('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰.');

            setLoading(true, ui.smartLinking.btn);
            ui.smartLinking.resultsDiv.classList.remove('visible');
            ui.smartLinking.container.innerHTML = '';

            try {
                const urls = urlsText.split('\n').filter(u => u.trim() !== '');
                if(urls.length === 0) return showError('Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙØ§Ø±ØºØ©.');
                 
                showToast(`Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ ${urls.length} Ù…Ù‚Ø§Ù„Ø§Øª... Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ù‡Ø°Ø§ Ø¨Ø¹Ø¶ Ø§Ù„ÙˆÙ‚Øª.`);

                const otherContents = await Promise.all(
                    urls.map(async (url) => {
                        const html = await fetchWithFallbacks(url);
                        const doc = new DOMParser().parseFromString(html, 'text/html');
                        return { url: url, content: extractMainContent(doc) };
                    })
                );

                const { linkingOpportunities } = await callGeminiForSmartLinking(pageContentForGemini, otherContents);
                displaySmartLinkingResults(linkingOpportunities);
                ui.smartLinking.resultsDiv.classList.add('visible');

            } catch (error) {
                 console.error("Smart Linking Error:", error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ø§Ù„Ø±Ø¨Ø·. ${error.message}`);
            } finally {
                 setLoading(false, ui.smartLinking.btn);
            }
        }


        async function handleCompetitorAnalysis() {
            const competitorUrls = [
                ui.competitor.input1.value.trim(),
                ui.competitor.input2.value.trim(),
                ui.competitor.input3.value.trim(),
                ui.competitor.input4.value.trim()
            ].filter(url => url);

            if (!pageContentForGemini || competitorUrls.length === 0) {
                return showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¬Ø±Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ø£Ø³Ø§Ø³ÙŠ ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ù…Ù†Ø§ÙØ³ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.');
            }
            setLoading(true, ui.competitor.btn);
            ui.competitor.resultsDiv.classList.remove('visible');
            ui.competitor.container.innerHTML = '';
            try {
                const competitorContents = await Promise.all(
                    competitorUrls.map(async (url) => {
                        const html = await fetchWithFallbacks(url);
                        const doc = new DOMParser().parseFromString(html, 'text/html');
                        return extractMainContent(doc);
                    })
                );

                const { competitorAnalysis } = await callGeminiForCompetitor(pageContentForGemini, competitorContents);
                displayCompetitorResults(competitorAnalysis);
                ui.competitor.resultsDiv.classList.add('visible');
            } catch (error) {
                console.error("Gemini Competitor Analysis API Error:", error);
                showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·.');
            } finally { setLoading(false, ui.competitor.btn); }
        }
        
        async function handleTenXRequest() {
            const competitorUrls = [
                ui.tenX.input1.value.trim(),
                ui.tenX.input2.value.trim(),
                ui.tenX.input3.value.trim(),
                ui.tenX.input4.value.trim()
            ].filter(url => url);

            if (!pageContentForGemini || competitorUrls.length === 0) {
                return showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¬Ø±Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ø£Ø³Ø§Ø³ÙŠ ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ù…Ù†Ø§ÙØ³ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.');
            }
            setLoading(true, ui.tenX.btn);
            ui.tenX.resultsDiv.classList.remove('visible');
            ui.tenX.container.innerHTML = '';
            try {
                 const competitorContents = await Promise.all(
                    competitorUrls.map(async (url) => {
                        const html = await fetchWithFallbacks(url);
                        const doc = new DOMParser().parseFromString(html, 'text/html');
                        return extractMainContent(doc);
                    })
                );

                const { tenXBrief } = await callGeminiForTenX(pageContentForGemini, competitorContents);
                displayTenXResults(tenXBrief);
                ui.tenX.resultsDiv.classList.add('visible');
            } catch (error) {
                console.error("Gemini 10x Brief API Error:", error);
                showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆØ¬Ø² 10x. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø±Ø§Ø¨Ø·.');
            } finally { setLoading(false, ui.tenX.btn); }
        }

        async function handleAiSeoTopPrompt() {
            const competitorUrls = [
                ui.competitor.input1.value.trim(),
                ui.competitor.input2.value.trim(),
                ui.competitor.input3.value.trim(),
                ui.competitor.input4.value.trim()
            ].filter(url => url);
             if (!pageContentForGemini || competitorUrls.length === 0) {
                return showError('Ù„ØªØ´ØºÙŠÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø©ØŒ ÙŠØ±Ø¬Ù‰ ØªØ­Ù„ÙŠÙ„ Ø±Ø§Ø¨Ø·Ùƒ Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ù…Ù†Ø§ÙØ³ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ÙÙŠ Ù‚Ø³Ù… "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†".');
            }
            setLoading(true, ui.aiSeoTopPrompt.btn);
            ui.aiSeoTopPrompt.modal.classList.add('visible');
            ui.aiSeoTopPrompt.container.innerHTML = `<div class="text-center p-8"><p class="text-lg">Ø¬Ø§Ø±ÙŠ Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ ÙˆØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù€ Prompt Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ...</p></div>`;

            try {
                const competitorContents = await Promise.all(
                    competitorUrls.map(async (url) => {
                        const html = await fetchWithFallbacks(url);
                        const doc = new DOMParser().parseFromString(html, 'text/html');
                        return extractMainContent(doc);
                    })
                );
                
                const { topPromptReport } = await callGeminiForAiSeoTopPrompt(pageContentForGemini, competitorContents);
                displayAiSeoTopPromptResults(topPromptReport);

            } catch (error) {
                 console.error("AI SEO Top Prompt Error:", error);
                 ui.aiSeoTopPrompt.container.innerHTML = `<div class="text-center p-8 text-red-600"><p>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙØ§Ø¯Ø­ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„. ${error.message}</p></div>`;
            } finally {
                setLoading(false, ui.aiSeoTopPrompt.btn);
            }
        }
        
        async function handleWriteArticleFromPrompt(prompt) {
            const writeButton = document.getElementById('write-article-btn');
            const articleContainer = document.getElementById('final-article-container');
            if (!writeButton || !articleContainer) return;

            setLoading(true, writeButton);
            articleContainer.innerHTML = '<p>Ø¬Ø§Ø±ÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§Ù„...</p>';
            
            try {
                const { article } = await callGeminiForFinalArticle(prompt);
                articleContainer.innerHTML = `<div class="prose max-w-none">${article.replace(/\n/g, '<br>')}</div>`;
            } catch(error) {
                articleContainer.innerHTML = `<p class="text-red-600">ÙØ´Ù„ ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§Ù„: ${error.message}</p>`;
            } finally {
                 setLoading(false, writeButton);
            }
        }
        
        async function handleContentRefresh() {
            const competitorUrl = ui.refresh.input.value.trim();
            if (!pageContentForGemini || !competitorUrl) {
                return showError('ÙŠØ±Ø¬Ù‰ ØªØ­Ù„ÙŠÙ„ Ø±Ø§Ø¨Ø·Ùƒ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ù…Ù†Ø§ÙØ³ Ø­Ø¯ÙŠØ«.');
            }
            setLoading(true, ui.refresh.btn);
            ui.refresh.resultsDiv.classList.remove('visible');
            ui.refresh.container.innerHTML = '';
            try {
                const html = await fetchWithFallbacks(competitorUrl);
                const doc = new DOMParser().parseFromString(html, 'text/html');
                const competitorContent = extractMainContent(doc);
                const { refreshBrief } = await callGeminiForRefresh(pageContentForGemini, competitorContent);
                displayRefreshResults(refreshBrief);
                ui.refresh.resultsDiv.classList.add('visible');
            } catch (error) {
                console.error("Content Refresh Error:", error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ«. ${error.message}`);
            } finally { setLoading(false, ui.refresh.btn); }
        }
        
        async function handleAudienceAnalysis() {
            const audienceUrl = ui.audience.input.value.trim();
            if (!audienceUrl) return showError('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ù„ØªØ­Ù„ÙŠÙ„ Ù„ØºØ© Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±.');
            setLoading(true, ui.audience.btn);
            ui.audience.resultsDiv.classList.remove('visible');
            ui.audience.container.innerHTML = '';
            try {
                const html = await fetchWithFallbacks(audienceUrl);
                const doc = new DOMParser().parseFromString(html, 'text/html');
                const audienceContent = extractMainContent(doc);
                if (!audienceContent || audienceContent.length < 100) {
                     throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ ÙƒØ§ÙÙ ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¯Ø®Ù„.');
                }
                const { audienceVoice } = await callGeminiForAudience(audienceContent);
                displayAudienceResults(audienceVoice);
                ui.audience.resultsDiv.classList.add('visible');
            } catch (error) {
                console.error("Audience Analysis Error:", error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ù„ØºØ© Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±. ${error.message}`);
            } finally { setLoading(false, ui.audience.btn); }
        }


        function extractBasicInfo(doc) {
            const pageTitle = doc.querySelector('title')?.innerText.trim() || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†ÙˆØ§Ù†';
            const mainHeading = doc.querySelector('h1')?.innerText.trim() || pageTitle;
            let description = doc.querySelector('meta[name="description"]')?.getAttribute('content')?.trim();
            if (!description || description.length < 50) {
                const paragraphs = Array.from(doc.querySelectorAll('p'));
                const firstLongPara = paragraphs.find(p => p.innerText.trim().length > 50);
                if (firstLongPara) description = firstLongPara.innerText.trim();
            }
            return { mainHeading, finalDescription: description || 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙˆØµÙ Ù…Ù†Ø§Ø³Ø¨ ÙÙŠ Ø§Ù„ØµÙØ­Ø©.' };
        }
        
        async function callGeminiAPI(prompt, isTextOnly = false) {
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            
            const payload = {
                contents: [{ parts: [{ text: prompt.prompt }] }]
            };
            
            if (!isTextOnly) {
                payload.generationConfig = { responseMimeType: "application/json", responseSchema: prompt.schema };
            }

            const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
            if (!response.ok) {
                const errorBody = await response.text();
                throw new Error(`API request failed: ${errorBody}`);
            }
            const result = await response.json();
            const jsonText = result.candidates?.[0]?.content?.parts?.[0]?.text;
            if (!jsonText) throw new Error("Invalid response structure from Gemini API.");
            
            return isTextOnly ? { article: jsonText } : JSON.parse(jsonText);
        }
        
        function getPrompt(type, text, keywords = '') {
            const maxLength = 12000;
            const truncatedText = text.length > maxLength ? text.substring(0, maxLength) : text;
            const baseText = `Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©:\n"${truncatedText}"`;
            const prompts = {
                gemini: { 
                    prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO ÙˆÙƒØªØ§Ø¨Ø© Ù…Ø­ØªÙˆÙ‰. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ 3 Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ø­Ø²Ù…Ø© SEO. Ù„ÙƒÙ„ Ø§Ù‚ØªØ±Ø§Ø­ØŒ Ù‚Ø¯Ù…: "title", "description", "tags" (Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† 5-7 ÙƒÙ„Ù…Ø§Øª), Ùˆ "urlSlug".\n${baseText}`, 
                    schema: { type: "OBJECT", properties: { suggestions: { type: "ARRAY", items: { type: "OBJECT", properties: { title: { type: "STRING" }, description: { type: "STRING" }, tags: { type: "ARRAY", items: { type: "STRING" } }, urlSlug: { type: "STRING" } } } } } }
                },
                faq: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† 3-5 Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ø¦Ø¹Ø© Ù…Ø¹ Ø¥Ø¬Ø§Ø¨Ø§Øª Ù…ÙˆØ¬Ø²Ø©.\n${baseText}`, schema: { type: "OBJECT", properties: { faqs: { type: "ARRAY", items: { type: "OBJECT", properties: { question: { type: "STRING" }, answer: { type: "STRING" } } } } } } },
                brief: { prompt: `Ø£Ù†Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ù…Ø­ØªÙˆÙ‰. Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆØ¬Ø² Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù…Ù‚Ø§Ù„ Ø­ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„ØªØ§Ù„ÙŠ: "${keywords}". ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¶Ù…Ù†: Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØŒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©ØŒ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ØŒ ÙˆØ§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ.`, schema: { type: "OBJECT", properties: { contentBrief: { type: "OBJECT", properties: { targetAudience: { type: "STRING" }, keywords: { type: "OBJECT", properties: { primary: { type: "ARRAY", items: { type: "STRING" } }, secondary: { type: "ARRAY", items: { type: "STRING" } } } }, outline: { type: "ARRAY", items: { type: "OBJECT", properties: { heading: { type: "STRING" }, subpoints: { type: "ARRAY", items: { type: "STRING" } } } } }, internalLinking: { type: "ARRAY", items: { type: "STRING" } } } } } } },
                schema: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO ØªÙ‚Ù†ÙŠ. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ø­Ø¯Ø¯ Ø£Ù†Ø³Ø¨ Ù†ÙˆØ¹ Schema (Ù…Ø«Ù„ Article, FAQPage) ÙˆÙ‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙˆØ¯ JSON-LD ØµØ§Ù„Ø­.\n${baseText}`, schema: { type: "OBJECT", properties: { schemaScript: { type: "STRING" } } } },
                social: { prompt: `Ø£Ù†Øª Ù…Ø¯ÙŠØ± ÙˆØ³Ø§Ø¦Ù„ ØªÙˆØ§ØµÙ„ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ 3 Ù…Ù†Ø´ÙˆØ±Ø§Øª Ù„Ù„ØªØ±ÙˆÙŠØ¬ Ø¹Ù„Ù‰ Ù…Ù†ØµØ§Øª Ù…Ø®ØªÙ„ÙØ©.\n${baseText}`, schema: { type: "OBJECT", properties: { socialPosts: { type: "ARRAY", items: { type: "OBJECT", properties: { platform: { type: "STRING" }, post: { type: "STRING" } } } } } } },
                keyword: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù„Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© ØªØªØ¶Ù…Ù† 3-5 ÙƒÙ„Ù…Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ Ù†ÙŠØ© Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„ÙƒÙ„Ù…Ø§Øª Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ø°ÙŠÙ„.\n${baseText}`, schema: { type: "OBJECT", properties: { keywordStrategy: { type: "ARRAY", items: { type: "OBJECT", properties: { keyword: { type: "STRING" }, intent: { type: "STRING" }, longTail: { type: "ARRAY", items: { type: "STRING" } } } } } } } },
                audit: { prompt: `Ø£Ù†Øª Ù…Ø¯Ù‚Ù‚ Ù…Ø­ØªÙˆÙ‰. Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆÙ‚Ø¯Ù… ØªÙ‚Ø±ÙŠØ±Ù‹Ø§ ÙŠØªØ¶Ù…Ù†: Ù†Ø¨Ø±Ø© Ø§Ù„ØµÙˆØªØŒ Ø§Ù„Ù…Ø´Ø§Ø¹Ø±ØŒ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©ØŒ Ùˆ3-4 Ù†ØµØ§Ø¦Ø­ Ù„Ù„ØªØ­Ø³ÙŠÙ†.\n${baseText}`, schema: { type: "OBJECT", properties: { contentAudit: { type: "OBJECT", properties: { toneOfVoice: { type: "STRING" }, sentiment: { type: "STRING" }, readability: { type: "STRING" }, suggestions: { type: "ARRAY", items: { type: "STRING" } } } } } } },
                video: { prompt: `Ø£Ù†Øª Ù…Ù†ØªØ¬ Ù…Ø­ØªÙˆÙ‰ ÙÙŠØ¯ÙŠÙˆ. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ÙÙƒØ±Ø© Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ± (Ø£Ù‚Ù„ Ù…Ù† 60 Ø«Ø§Ù†ÙŠØ©) ÙŠØªØ¶Ù…Ù†: Ø®Ø·Ø§ÙØŒ 3-4 Ù…Ø´Ø§Ù‡Ø¯ØŒ ÙˆØ¯Ø¹ÙˆØ© Ù„Ø§ØªØ®Ø§Ø° Ø¥Ø¬Ø±Ø§Ø¡.\n${baseText}`, schema: { type: "OBJECT", properties: { videoScript: { type: "OBJECT", properties: { hook: { type: "STRING" }, scenes: { type: "ARRAY", items: { type: "STRING" } }, cta: { type: "STRING" } } } } } },
                linking: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ø­Ø¯Ø¯ 3-5 Ø¹Ø¨Ø§Ø±Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ© ØªØµÙ„Ø­ ÙƒÙ†Øµ Ø±Ø§Ø¨Ø· ÙˆØ§Ù‚ØªØ±Ø­ ÙˆØ¬Ù‡Ø© Ø±Ø§Ø¨Ø· Ø¯Ø§Ø®Ù„ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ÙƒÙ„ Ù…Ù†Ù‡Ø§.\n${baseText}`, schema: { type: "OBJECT", properties: { internalLinks: { type: "ARRAY", items: { type: "OBJECT", properties: { anchorText: { type: "STRING" }, suggestedLink: { type: "STRING" } } } } } } },
                summary: { prompt: `Ø£Ù†Øª Ù…Ø­Ù„Ù„ Ø£Ø¹Ù…Ø§Ù„. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 3-4 Ø¬Ù…Ù„.\n${baseText}`, schema: { type: "OBJECT", properties: { summary: { type: "STRING" } } } },
                eeat: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO Ù…ØªØ®ØµØµ ÙÙŠ E-E-A-T. Ù‚Ù… Ø¨ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ Ù„ÙƒÙ„ Ù…Ø¹ÙŠØ§Ø± (Ø§Ù„Ø®Ø¨Ø±Ø©ØŒ Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„ØªØ®ØµØµÙŠØ©ØŒ Ø§Ù„Ø³Ù„Ø·Ø©ØŒ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©) ÙˆÙ‚Ø¯Ù… Ø¯Ø±Ø¬Ø© Ù…Ù† 5ØŒ Ø´Ø±Ø­ØŒ ÙˆØ§Ù‚ØªØ±Ø§Ø­ Ù„Ù„ØªØ­Ø³ÙŠÙ†.\n${baseText}`, schema: { type: "OBJECT", properties: { eeatAnalysis: { type: "OBJECT", properties: { experience: { type: "OBJECT", properties: { score: { type: "INTEGER" }, explanation: { type: "STRING" }, suggestion: { type: "STRING" } } }, expertise: { type: "OBJECT", properties: { score: { type: "INTEGER" }, explanation: { type: "STRING" }, suggestion: { type: "STRING" } } }, authoritativeness: { type: "OBJECT", properties: { score: { type: "INTEGER" }, explanation: { type: "STRING" }, suggestion: { type: "STRING" } } }, trustworthiness: { type: "OBJECT", properties: { score: { type: "INTEGER" }, explanation: { type: "STRING" }, suggestion: { type: "STRING" } } } } } } } },
                cluster: { prompt: `Ø£Ù†Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ù…Ø­ØªÙˆÙ‰. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø§Ù„ØªØ§Ù„ÙŠ: "${keywords}"ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ÙˆØ§Ø¶ÙŠØ¹ Ù…Ù† 5-7 Ø£ÙÙƒØ§Ø± Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙØ±Ø¹ÙŠØ©.\n`, schema: { type: "OBJECT", properties: { topicClusters: { type: "ARRAY", items: { type: "OBJECT", properties: { topic: { type: "STRING" }, description: { type: "STRING" } } } } } } },
                persona: { prompt: `Ø£Ù†Øª Ø¨Ø§Ø­Ø« ØªØ³ÙˆÙŠÙ‚ÙŠ. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø´Ø®ØµÙŠ Ù„Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù ÙŠØªØ¶Ù…Ù†: Ø§Ø³Ù…ØŒ Ø¯ÙŠÙ…ÙˆØºØ±Ø§ÙÙŠØ§ØŒ Ø£Ù‡Ø¯Ø§ÙØŒ Ù†Ù‚Ø§Ø· Ø£Ù„Ù…ØŒ ÙˆÙ‚Ù†ÙˆØ§Øª ØªÙˆØ§ØµÙ„.\n${baseText}`, schema: { type: "OBJECT", properties: { audiencePersona: { type: "OBJECT", properties: { personaName: { type: "STRING" }, demographics: { type: "STRING" }, goals: { type: "ARRAY", items: { type: "STRING" } }, painPoints: { type: "ARRAY", items: { type: "STRING" } }, communicationChannels: { type: "ARRAY", items: { type: "STRING" } } } } } } },
                competitor: { prompt: `Ø£Ù†Øª Ù…Ø­Ù„Ù„ SEO Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ. Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ù…Ù‚Ø§Ø±Ù† Ø¨ÙŠÙ† Ù…Ø­ØªÙˆØ§ÙŠ ÙˆÙ…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¶Ù…Ù† Ø§Ù„ØªØ­Ù„ÙŠÙ„: Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©ØŒ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹ÙØŒ ÙØ¬ÙˆØ§Øª Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©ØŒ Ùˆ3 Ù†ØµØ§Ø¦Ø­ Ù„Ù„ØªÙÙˆÙ‚.\n\nÙ…Ø­ØªÙˆÙ‰ ØµÙØ­ØªÙŠ:\n"${text}"\n\n${keywords}`, schema: { type: "OBJECT", properties: { competitorAnalysis: { type: "OBJECT", properties: { strengths: { type: "ARRAY", items: { type: "STRING" } }, weaknesses: { type: "ARRAY", items: { type: "STRING" } }, keywordGaps: { type: "ARRAY", items: { type: "OBJECT", properties: { keyword: {type: "STRING"}, explanation: {type: "STRING"}} } }, recommendations: { type: "ARRAY", items: { type: "STRING" } } } } } } },
                repurpose: { prompt: `Ø£Ù†Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ù…Ø­ØªÙˆÙ‰. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ø§Ù‚ØªØ±Ø­ 3-4 Ø·Ø±Ù‚ Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ¯ÙˆÙŠØ±Ù‡ Ø¥Ù„Ù‰ ØµÙŠØº Ø£Ø®Ø±Ù‰ (Ù…Ø«Ù„: Ø§Ù†ÙÙˆØ¬Ø±Ø§ÙÙŠÙƒØŒ Ø¨ÙˆØ¯ÙƒØ§Ø³Øª).\n${baseText}`, schema: { type: "OBJECT", properties: { repurposingIdeas: { type: "ARRAY", items: { type: "OBJECT", properties: { format: { type: "STRING" }, idea: { type: "STRING" } } } } } } },
                draft: { prompt: `Ø£Ù†Øª ÙƒØ§ØªØ¨ Ù…Ø­ØªÙˆÙ‰. Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© Ù…Ø³ÙˆØ¯Ø© Ù…Ù‚Ø§Ù„ Ù…ØªÙƒØ§Ù…Ù„Ø© Ø­ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„ØªØ§Ù„ÙŠ: "${keywords}". ÙŠØ¬Ø¨ Ø£Ù† ØªØªØ¶Ù…Ù†: Ø¹Ù†ÙˆØ§Ù†ØŒ Ù…Ù‚Ø¯Ù…Ø©ØŒ 3-5 ÙÙ‚Ø±Ø§ØªØŒ ÙˆØ®Ø§ØªÙ…Ø©.`, schema: { type: "OBJECT", properties: { articleDraft: { type: "OBJECT", properties: { title: { type: "STRING" }, introduction: { type: "STRING" }, sections: { type: "ARRAY", items: { type: "OBJECT", properties: { heading: { type: "STRING" }, paragraph: { type: "STRING" } } } }, conclusion: { type: "STRING" } } } } } },
                calendar: { prompt: `Ø£Ù†Øª Ù…Ø¯ÙŠØ± Ù…Ø­ØªÙˆÙ‰. Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© Ù…Ø­ØªÙˆÙ‰ Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ø­ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø§Ù„ØªØ§Ù„ÙŠ: "${keywords}". Ù„ÙƒÙ„ ÙŠÙˆÙ…ØŒ Ø§Ù‚ØªØ±Ø­ ØµÙŠØºØ© ÙˆÙÙƒØ±Ø©.\n`, schema: { type: "OBJECT", properties: { contentCalendar: { type: "ARRAY", items: { type: "OBJECT", properties: { day: { type: "STRING" }, format: { type: "STRING" }, idea: { type: "STRING" } } } } } } },
                productFaq: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ 3-5 Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ø¦Ø¹Ø© Ù…Ø¹ Ø¥Ø¬Ø§Ø¨Ø§ØªÙ‡Ø§.\n\nÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬:\n"${text}"`, schema: { type: "OBJECT", properties: { productFaqs: { type: "ARRAY", items: { type: "OBJECT", properties: { question: { type: "STRING" }, answer: { type: "STRING" } } } } } } },
                youtubeSeo: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO ÙŠÙˆØªÙŠÙˆØ¨. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ "title", "description", Ùˆ "tags" Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠÙˆØªÙŠÙˆØ¨.\n${baseText}`, schema: { type: "OBJECT", properties: { youtubeSeo: { type: "OBJECT", properties: { title: { type: "STRING" }, description: { type: "STRING" }, tags: { type: "ARRAY", items: { type: "STRING" } } } } } } },
                email: { prompt: `Ø£Ù†Øª Ù…Ø³ÙˆÙ‚ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© Ù…Ø³ÙˆØ¯Ø© Ø±Ø³Ø§Ù„Ø© Ø¨Ø±ÙŠØ¯ÙŠØ© ØªØ±ÙˆÙŠØ¬ÙŠØ© ØªØªØ¶Ù…Ù† "subject" Ùˆ "body".\n${baseText}`, schema: { type: "OBJECT", properties: { emailDraft: { type: "OBJECT", properties: { subject: { type: "STRING" }, body: { type: "STRING" } } } } } },
                altText: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO Ùˆ Accessibility. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ ØªØ®ÙŠÙ„ 3-4 ØµÙˆØ± Ø°Ø§Øª ØµÙ„Ø© ÙˆØ§ÙƒØªØ¨ Ù„ÙƒÙ„ Ù…Ù†Ù‡Ø§ ÙˆØµÙ ÙˆÙ†Øµ Ø¨Ø¯ÙŠÙ„ (Alt Text).\n${baseText}`, schema: { type: "OBJECT", properties: { altTexts: { type: "ARRAY", items: { type: "OBJECT", properties: { description: { type: "STRING" }, altText: { type: "STRING" } } } } } } },
                abTest: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± CRO. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ 3 Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø§Ø®ØªØ¨Ø§Ø± A/B. Ù„ÙƒÙ„ Ø§Ù‚ØªØ±Ø§Ø­ØŒ Ù‚Ø¯Ù… "headline", "angle", Ùˆ "hypothesis".\n${baseText}`, schema: { type: "OBJECT", properties: { abTestHeadlines: { type: "ARRAY", items: { type: "OBJECT", properties: { headline: { type: "STRING" }, angle: { type: "STRING" }, hypothesis: { type: "STRING" } } } } } } },
                tenX: { prompt: `Ø£Ù†Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ù…Ø­ØªÙˆÙ‰ SEO Ø®Ø¨ÙŠØ±. Ù‡Ø¯ÙÙŠ Ù‡Ùˆ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø£ÙØ¶Ù„ 10 Ù…Ø±Ø§Øª Ù…Ù† Ù…Ù†Ø§ÙØ³ÙŠ. Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ù…Ø­ØªÙˆØ§ÙŠ ÙˆÙ…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†ØŒ Ø«Ù… Ø£Ù†Ø´Ø¦ Ù…ÙˆØ¬Ø² Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ ÙŠØªØ¶Ù…Ù†: Ø¹Ù†ÙˆØ§Ù† Ù…Ù‚ØªØ±Ø­ ÙŠØªÙÙˆÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†ØŒ Ù‡ÙŠÙƒÙ„ Ù…Ù‚Ø§Ù„ Ù…ÙØµÙ„ ÙŠØ¯Ù…Ø¬ Ø£ÙØ¶Ù„ Ù…Ø§ ÙÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª ÙˆÙŠØ¶ÙŠÙ Ù‚ÙŠÙ…Ø© ÙØ±ÙŠØ¯Ø©ØŒ ÙˆØ§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø³Ù„Ø·Ø©.\n\nÙ…Ø­ØªÙˆØ§ÙŠ:\n"${text}"\n\n${keywords}`, schema: { type: "OBJECT", properties: { tenXBrief: { type: "OBJECT", properties: { suggestedTitle: {type: "STRING"}, detailedOutline: { type: "ARRAY", items: { type: "OBJECT", properties: { heading: {type: "STRING"}, subpoints: {type: "ARRAY", items: {type: "STRING"}}} } }, valueAddSuggestions: { type: "ARRAY", items: { type: "STRING" } } } } } } },
                journey: { prompt: `Ø£Ù†Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ ØªØ³ÙˆÙŠÙ‚ Ø¨Ø§Ù„Ù…Ø­ØªÙˆÙ‰. Ù‡Ø¯ÙÙŠ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ Ù‡Ùˆ: "${text}". Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© Ù…Ø­ØªÙˆÙ‰ Ù„Ù…Ø¯Ø© 3 Ø£ÙŠØ§Ù…ØŒ Ø¨Ø­ÙŠØ« ÙŠÙ…Ø«Ù„ ÙƒÙ„ ÙŠÙˆÙ… Ù…Ø±Ø­Ù„Ø© Ù…Ù† Ù…Ø±Ø§Ø­Ù„ Ø±Ø­Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (ÙˆØ¹ÙŠØŒ ØªÙ‚ÙŠÙŠÙ…ØŒ Ù‚Ø±Ø§Ø±). Ù„ÙƒÙ„ ÙŠÙˆÙ…ØŒ Ø§Ù‚ØªØ±Ø­ ÙÙƒØ±Ø© Ù…Ø­ØªÙˆÙ‰ ÙˆØµÙŠØºØ© Ù…Ù†Ø§Ø³Ø¨Ø©.\n`, schema: { type: "OBJECT", properties: { journeyCalendar: { type: "ARRAY", items: { type: "OBJECT", properties: { stage: {type: "STRING"}, idea: {type: "STRING"}, format: {type: "STRING"}} } } } } },
                painPoint: { prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø°ÙŠ ÙŠØ­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„. Ø¬Ù…Ù‡ÙˆØ±Ù†Ø§ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù ÙŠÙˆØ§Ø¬Ù‡ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: "${text}". Ù‚Ù… Ø¨ØªÙˆÙ„ÙŠØ¯ 4 Ø£ÙÙƒØ§Ø± Ù…Ø­ØªÙˆÙ‰ Ù…ØªÙ†ÙˆØ¹Ø© (Ù…Ù‚Ø§Ù„Ø§ØªØŒ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§ØªØŒ Ø£Ø¯ÙˆØ§Øª) ØªØ¹Ø§Ù„Ø¬ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù…Ø¨Ø§Ø´Ø±Ø©.\n`, schema: { type: "OBJECT", properties: { contentIdeas: { type: "ARRAY", items: { type: "OBJECT", properties: { title: {type: "STRING"}, format: {type: "STRING"}, description: {type: "STRING"}} } } } } },
                aiSeoTopPrompt: {
                    prompt: `Ø£Ù†Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ SEO Ø¹Ø§Ù„Ù…ÙŠ ÙˆØ®Ø¨ÙŠØ± ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ. Ù…Ù‡Ù…ØªÙƒ Ù‡ÙŠ Ø¥Ù†Ø´Ø§Ø¡ "Prompt" Ù†Ù‡Ø§Ø¦ÙŠ Ù„ÙƒØªØ§Ø¨Ø© Ù…Ù‚Ø§Ù„ ÙŠØªØµØ¯Ø± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«. Ù‚Ù… Ø£ÙˆÙ„Ø§Ù‹ Ø¨ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ù…Ø­ØªÙˆØ§ÙŠ ÙˆÙ…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†ØŒ Ø«Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„ØªØ­Ù„ÙŠÙ„ØŒ Ù‚Ù… Ø¨ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙˆØ§Ù„Ù€ Prompt Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.\n\nÙ…Ø­ØªÙˆÙ‰ ØµÙØ­ØªÙŠ:\n"${text}"\n\n${keywords}`,
                    schema: {
                        type: "OBJECT",
                        properties: {
                            topPromptReport: {
                                type: "OBJECT",
                                properties: {
                                    analysisReport: {
                                        type: "OBJECT",
                                        properties: {
                                            summary: { type: "STRING", description: "Ù…Ù„Ø®Øµ Ù…ÙˆØ¬Ø² Ù„ØªØ­Ù„ÙŠÙ„Ùƒ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†." },
                                            keywordGaps: { type: "ARRAY", items: { type: "STRING" }, description: "Ø£Ù‡Ù… Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© Ø§Ù„ØªÙŠ ÙŠØºØ·ÙŠÙ‡Ø§ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙˆÙ† ÙˆÙ„Ø§ ÙŠØºØ·ÙŠÙ‡Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ." },
                                            eeatImprovements: { type: "ARRAY", items: { type: "STRING" }, description: "Ø£Ù‡Ù… Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù€ E-E-A-T." }
                                        }
                                    },
                                    masterPrompt: { type: "STRING", description: "Ø§Ù„Ù€ Prompt Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ù…ÙØµÙ„ Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ø£ÙØ¶Ù„." }
                                }
                            }
                        }
                    }
                },
                finalArticle: {
                    prompt: text 
                },
                pruning: {
                    prompt: `Ø£Ù†Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ù…Ø­ØªÙˆÙ‰ ÙˆØ®Ø¨ÙŠØ± SEO. Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆÙ‚Ø¯Ù… ØªÙˆØµÙŠØ© ÙˆØ§Ø¶Ø­Ø© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡. ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ØªÙˆØµÙŠØ© ÙˆØ§Ø­Ø¯Ø© Ù…Ù† Ø«Ù„Ø§Ø«: 'Prune' (ØªÙ‚Ù„ÙŠÙ… ÙˆØ­Ø°Ù)ØŒ 'Improve' (ØªØ­Ø³ÙŠÙ† ÙˆØªØ­Ø¯ÙŠØ«)ØŒ Ø£Ùˆ 'Consolidate' (Ø¯Ù…Ø¬). Ù‚Ø¯Ù… 'reason' (Ø³Ø¨Ø¨ ÙˆØ§Ø¶Ø­ Ù„ØªÙˆØµÙŠØªÙƒ) Ùˆ 'nextSteps' (Ø®Ø·ÙˆØ§Øª Ø¹Ù…Ù„ÙŠØ© ØªØ§Ù„ÙŠØ©).\n\nÙ…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù‚Ø§Ù„:\n"${text}"`,
                    schema: { type: "OBJECT", properties: { contentPruningDecision: { type: "OBJECT", properties: { recommendation: { type: "STRING" }, reason: { type: "STRING" }, nextSteps: { type: "ARRAY", items: { type: "STRING" } } } } } }
                },
                smartLinking: {
                    prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ. Ù‡Ø¯ÙÙŠ Ù‡Ùˆ ØªÙ‚ÙˆÙŠØ© ØµÙØ­ØªÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø§Ù„ØªÙŠ Ù…Ø­ØªÙˆØ§Ù‡Ø§ ÙƒØ§Ù„ØªØ§Ù„ÙŠ:\n\n${text}\n\nØ§Ù„Ø¢Ù†ØŒ Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ ÙÙŠ Ù…ÙˆÙ‚Ø¹ÙŠØŒ ÙˆÙ„ÙƒÙ„ Ù…Ù‚Ø§Ù„ØŒ Ø­Ø¯Ø¯ Ø£ÙØ¶Ù„ Ø¬Ù…Ù„Ø© ØªØµÙ„Ø­ ÙƒÙ†Øµ Ø±Ø§Ø¨Ø· (Anchor Text) Ù„Ù„Ø±Ø¨Ø· Ø¨ØµÙØ­ØªÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©.\n\n${keywords}`,
                    schema: { type: "OBJECT", properties: { linkingOpportunities: { type: "ARRAY", items: { type: "OBJECT", properties: { sourceArticleUrl: { type: "STRING" }, anchorText: { type: "STRING" }, surroundingContext: { type: "STRING" } } } } } }
                },
                paa: {
                    prompt: `Ø£Ù†Øª Ø£Ø¯Ø§Ø© SEO ØªØ­Ø§ÙƒÙŠ Ù‚Ø³Ù… "People Also Ask" ÙÙŠ Ø¬ÙˆØ¬Ù„. Ù„Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© '${text}', Ù‚Ù… Ø¨ØªÙˆÙ„ÙŠØ¯ Ø´Ø¬Ø±Ø© Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø©.`,
                    schema: { type: "OBJECT", properties: { paaTree: { type: "ARRAY", items: { type: "OBJECT", properties: { mainQuestion: { type: "STRING" }, subQuestions: { type: "ARRAY", items: { type: "STRING" } } } } } } }
                },
                eeatBooster: {
                    prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± E-E-A-T. Ø­Ù„Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆÙ‚Ø¯Ù… Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† "Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª" Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø«Ù‚Ø© ÙˆØ§Ù„Ø³Ù„Ø·Ø©.\n\n${baseText}`,
                    schema: { type: "OBJECT", properties: { eeatSignals: { type: "ARRAY", items: { type: "OBJECT", properties: { signalType: { type: "STRING" }, suggestedText: { type: "STRING" }, explanation: { type: "STRING" } } } } } }
                },
                serp: {
                    prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± SEO. Ù„Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© '${text}', Ù‚Ù… Ø¨Ù…Ø­Ø§ÙƒØ§Ø© ØµÙØ­Ø© Ù†ØªØ§Ø¦Ø¬ Ø¨Ø­Ø« Ø¬ÙˆØ¬Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ©. Ø­Ø¯Ø¯ 5 ÙØ±Øµ Ø¸Ù‡ÙˆØ± Ø¨Ø§Ø±Ø²Ø© ÙˆÙ‚Ø¯Ù… Ù†ØµÙŠØ­Ø© Ø¹Ù…Ù„ÙŠØ© Ù„ÙƒÙ„ ÙØ±ØµØ©.`,
                    schema: { type: "OBJECT", properties: { serpOpportunities: { type: "ARRAY", items: { type: "OBJECT", properties: { feature: { type: "STRING" }, opportunity: { type: "STRING" }, actionableTip: { type: "STRING" } } } } } }
                },
                refresh: {
                    prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­ØªÙˆÙ‰. Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ù…Ù‚Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆÙ…Ø­ØªÙˆÙ‰ Ù…Ù‚Ø§Ù„ Ù…Ù†Ø§ÙØ³ Ø­Ø¯ÙŠØ«ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ 'Ù…ÙˆØ¬Ø² ØªØ­Ø¯ÙŠØ«'.\n\nÙ…Ù‚Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø¯ÙŠÙ…:\n"${text}"\n\nØ§Ù„Ù…Ù†Ø§ÙØ³ Ø§Ù„Ø­Ø¯ÙŠØ«:\n"${keywords}"`,
                    schema: { type: "OBJECT", properties: { refreshBrief: { type: "OBJECT", properties: { outdatedInfo: { type: "ARRAY", items: { type: "STRING" } }, newQuestions: { type: "ARRAY", items: { type: "STRING" } }, newSubheadings: { type: "ARRAY", items: { type: "STRING" } } } } } }
                },
                authority: {
                    prompt: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø³Ù„Ø·Ø© Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ÙŠØ©. Ù„Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ '${text}', Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø±ÙŠØ·Ø© Ø³Ù„Ø·Ø© Ù…ÙˆØ¶ÙˆØ¹ÙŠØ©.`,
                    schema: { type: "OBJECT", properties: { authorityMap: { type: "OBJECT", properties: { pillarPageIdea: { type: "OBJECT", properties: { title: { type: "STRING" }, description: { type: "STRING" } } }, clusterTopics: { type: "ARRAY", items: { type: "OBJECT", properties: { title: { type: "STRING" }, description: { type: "STRING" }, linkingStrategy: { type: "STRING" } } } } } } } }
                },
                audience: {
                    prompt: `Ø£Ù†Øª Ø¨Ø§Ø­Ø« ØªØ³ÙˆÙŠÙ‚ÙŠ. Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ Ø§Ù„ØªØ§Ù„ÙŠ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ø«Ù„ ØµÙˆØª Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± ÙˆØ§Ø³ØªØ®Ù„Øµ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© ÙˆØ§Ù„Ù†Ø¨Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©.\n\nØ§Ù„Ù†Øµ:\n"${text}"`,
                    schema: { type: "OBJECT", properties: { audienceVoice: { type: "OBJECT", properties: { commonTerms: { type: "ARRAY", items: { type: "STRING" } }, frequentQuestions: { type: "ARRAY", items: { type: "STRING" } }, overallTone: { type: "STRING" } } } } }
                }
            };
            return prompts[type];
        }

        // --- API Call Functions ---
        async function callGeminiForGemini(pageText) { return callGeminiAPI(getPrompt('gemini', pageText)); }
        async function callGeminiForFaq(pageText) { return callGeminiAPI(getPrompt('faq', pageText)); }
        async function callGeminiForSchema(pageText) { return callGeminiAPI(getPrompt('schema', pageText)); }
        async function callGeminiForSocial(pageText) { return callGeminiAPI(getPrompt('social', pageText)); }
        async function callGeminiForKeyword(pageText) { return callGeminiAPI(getPrompt('keyword', pageText)); }
        async function callGeminiForAudit(pageText) { return callGeminiAPI(getPrompt('audit', pageText)); }
        async function callGeminiForVideo(pageText) { return callGeminiAPI(getPrompt('video', pageText)); }
        async function callGeminiForLinking(pageText) { return callGeminiAPI(getPrompt('linking', pageText)); }
        async function callGeminiForSummary(pageText) { return callGeminiAPI(getPrompt('summary', pageText)); }
        async function callGeminiForEeat(pageText) { return callGeminiAPI(getPrompt('eeat', pageText)); }
        async function callGeminiForPersona(pageText) { return callGeminiAPI(getPrompt('persona', pageText)); }
        async function callGeminiForRepurpose(pageText) { return callGeminiAPI(getPrompt('repurpose', pageText)); }
        async function callGeminiForYoutubeSeo(pageText) { return callGeminiAPI(getPrompt('youtubeSeo', pageText)); }
        async function callGeminiForEmail(pageText) { return callGeminiAPI(getPrompt('email', pageText)); }
        async function callGeminiForAltText(pageText) { return callGeminiAPI(getPrompt('altText', pageText)); }
        async function callGeminiForAbTest(pageText) { return callGeminiAPI(getPrompt('abTest', pageText)); }
        async function callGeminiForBrief(topic) { return callGeminiAPI(getPrompt('brief', '', topic)); }
        async function callGeminiForCluster(topic) { return callGeminiAPI(getPrompt('cluster', '', topic)); }
        async function callGeminiForDraft(topic) { return callGeminiAPI(getPrompt('draft', '', topic)); }
        async function callGeminiForCalendar(topic) { return callGeminiAPI(getPrompt('calendar', '', topic)); }
        async function callGeminiForProductFaq(desc) { return callGeminiAPI(getPrompt('productFaq', desc)); }
        async function callGeminiForCompetitor(userText, competitorTexts) { 
            const competitorContentString = competitorTexts.map((content, i) => `Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§ÙØ³ ${i+1}:\n"${content}"`).join('\n\n');
            return callGeminiAPI(getPrompt('competitor', userText, competitorContentString)); 
        }
        async function callGeminiForTenX(userText, competitorTexts) { 
            const competitorContentString = competitorTexts.map((content, i) => `Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§ÙØ³ ${i+1}:\n"${content}"`).join('\n\n');
            return callGeminiAPI(getPrompt('tenX', userText, competitorContentString)); 
        }
        async function callGeminiForJourney(goal) { return callGeminiAPI(getPrompt('journey', goal)); }
        async function callGeminiForPainPoint(problem) { return callGeminiAPI(getPrompt('painPoint', problem)); }
        async function callGeminiForAiSeoTopPrompt(userText, competitorTexts) {
            const competitorContentString = competitorTexts.map((content, i) => `Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§ÙØ³ ${i + 1}:\n"${content}"`).join('\n\n');
            return callGeminiAPI(getPrompt('aiSeoTopPrompt', userText, competitorContentString));
        }
        async function callGeminiForFinalArticle(prompt) {
            return callGeminiAPI(getPrompt('finalArticle', prompt), true);
        }
        async function callGeminiForPruning(content) { return callGeminiAPI(getPrompt('pruning', content)); }
        async function callGeminiForSmartLinking(userText, otherContents) { 
            const otherContentString = otherContents.map((item, i) => `--- Ø§Ù„Ù…Ù‚Ø§Ù„ ${i+1} (${item.url}) ---\n${item.content}`).join('\n\n');
            return callGeminiAPI(getPrompt('smartLinking', userText, otherContentString)); 
        }
        async function callGeminiForPaa(keyword) { return callGeminiAPI(getPrompt('paa', keyword)); }
        async function callGeminiForEeatBooster(pageText) { return callGeminiAPI(getPrompt('eeatBooster', pageText)); }
        async function callGeminiForSerp(keyword) { return callGeminiAPI(getPrompt('serp', keyword)); }
        async function callGeminiForRefresh(userText, competitorText) { return callGeminiAPI(getPrompt('refresh', userText, competitorText)); }
        async function callGeminiForAuthority(topic) { return callGeminiAPI(getPrompt('authority', topic)); }
        async function callGeminiForAudience(audienceText) { return callGeminiAPI(getPrompt('audience', audienceText)); }

        
        // --- Display Functions ---
        function displayGeminiResults(suggestions) {
            suggestions.forEach(suggestion => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm relative';
                card.innerHTML = `
                    <div onclick="copyToClipboard(this.parentElement.innerText)" class="copy-btn" title="Ù†Ø³Ø® Ø§Ù„ÙƒÙ„">
                         <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h1z"/><path d="M4 1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5M4 3.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5"/></svg>
                    </div>
                    <h4 class="font-bold text-indigo-700 mb-2">${suggestion.title}</h4>
                    <p class="text-sm text-gray-600 mb-3">${suggestion.description}</p>
                    <div class="border-t pt-2">
                        <p class="text-xs text-gray-500 font-semibold mb-1">Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù‚ØªØ±Ø­:</p>
                        <p class="text-xs text-indigo-600 bg-indigo-50 p-1 rounded">${suggestion.urlSlug}</p>
                    </div>
                    <div class="border-t pt-2 mt-2">
                         <p class="text-xs text-gray-500 font-semibold mb-2">Ø§Ù„ÙˆØ³ÙˆÙ… Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:</p>
                         <div class="flex flex-wrap gap-2">
                            ${suggestion.tags.map(tag => `<span class="bg-gray-200 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${tag}</span>`).join('')}
                         </div>
                    </div>
                `;
                ui.gemini.container.appendChild(card);
            });
        }

        function displayFaqResults(faqs) {
            faqs.forEach(faq => {
                const details = document.createElement('details');
                details.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200';
                details.innerHTML = `<summary class="font-bold text-teal-700">${faq.question}</summary><p class="mt-2 text-sm text-gray-600 pr-4">${faq.answer}</p>`;
                ui.faq.container.appendChild(details);
            });
        }

        function displaySchemaResults(schemaScript) {
            try {
                const formattedScript = JSON.stringify(JSON.parse(schemaScript), null, 2);
                ui.schema.container.textContent = formattedScript;
            } catch (e) {
                ui.schema.container.textContent = schemaScript;
            }
        }

        function displaySocialResults(socialPosts) {
            socialPosts.forEach(post => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm relative';
                card.innerHTML = `<div onclick="copyToClipboard(this.parentElement.innerText)" class="copy-btn" title="Ù†Ø³Ø® Ø§Ù„ÙƒÙ„"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h1z"/><path d="M4 1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5M4 3.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5"/></svg></div><h4 class="font-bold text-rose-700 mb-2">Ù…Ù†Ø´ÙˆØ± Ù…Ù‚ØªØ±Ø­ Ù„Ù€ ${post.platform}</h4><p class="text-sm text-gray-600 whitespace-pre-line">${post.post}</p>`;
                ui.social.container.appendChild(card);
            });
        }

        function displayKeywordResults(keywordStrategy) {
            keywordStrategy.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `
                    <h4 class="font-bold text-amber-700 text-lg">${item.keyword}</h4>
                    <p class="text-sm text-gray-600 mb-2"><span class="font-semibold">Ù†ÙŠØ© Ø§Ù„Ø¨Ø­Ø«:</span> ${item.intent}</p>
                    <p class="text-sm text-gray-600 font-semibold">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ÙƒÙ„Ù…Ø§Øª Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ø°ÙŠÙ„:</p>
                    <ul class="list-disc list-inside text-sm text-gray-600">
                        ${item.longTail.map(lt => `<li>${lt}</li>`).join('')}
                    </ul>
                `;
                ui.keyword.container.appendChild(card);
            });
        }

        function displayAuditResults(contentAudit) {
            ui.audit.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-slate-700">Ù†Ø¨Ø±Ø© Ø§Ù„ØµÙˆØª</h4>
                    <p class="text-sm text-gray-600">${contentAudit.toneOfVoice}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-slate-700">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ø¹Ø±</h4>
                    <p class="text-sm text-gray-600">${contentAudit.sentiment}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-slate-700">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</h4>
                    <p class="text-sm text-gray-600">${contentAudit.readability}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-slate-700">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„ØªØ­Ø³ÙŠÙ†</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                        ${contentAudit.suggestions.map(s => `<li>${s}</li>`).join('')}
                    </ul>
                </div>
            `;
        }
        
        function displayVideoResults(videoScript) {
            ui.video.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ø§Ù„Ø®Ø·Ø§Ù (Hook)</h4>
                    <p class="text-sm text-gray-600 italic">"${videoScript.hook}"</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯</h4>
                    <div class="space-y-2 mt-2">
                        ${videoScript.scenes.map((scene, index) => `
                            <div class="p-2 border-r-2 border-red-200">
                                <p class="font-semibold text-sm">Ø§Ù„Ù…Ø´Ù‡Ø¯ ${index + 1}:</p>
                                <p class="text-sm text-gray-600">${scene}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ø§Ù„Ø¯Ø¹ÙˆØ© Ù„Ø§ØªØ®Ø§Ø° Ø¥Ø¬Ø±Ø§Ø¡ (CTA)</h4>
                    <p class="text-sm text-gray-600">${videoScript.cta}</p>
                </div>
            `;
        }

        function displayLinkingResults(internalLinks) {
            internalLinks.forEach(link => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `
                    <p class="text-sm text-gray-600">Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù„Ù„Ø±Ø¨Ø· (Anchor Text):</p>
                    <h4 class="font-bold text-lime-700 text-lg mb-2">"${link.anchorText}"</h4>
                    <p class="text-sm text-gray-600">Ø§Ø±Ø¨Ø·Ù‡ Ø¨ØµÙØ­Ø© Ø­ÙˆÙ„:</p>
                    <p class="font-semibold text-sm text-emerald-700">${link.suggestedLink}</p>
                `;
                ui.linking.container.appendChild(card);
            });
        }

        function displaySummaryResults(summary) {
            ui.summary.container.innerHTML = `<p class="text-sm text-gray-800">${summary}</p>`;
        }

        function displayBriefResults(contentBrief) {
            ui.brief.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-indigo-700">Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù</h4>
                    <p class="text-sm text-gray-600">${contentBrief.targetAudience}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-indigo-700">Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©</h4>
                    <p class="text-sm text-gray-600 font-semibold">Ø±Ø¦ÙŠØ³ÙŠØ©:</p>
                    <div class="flex flex-wrap gap-2 mt-1">
                        ${contentBrief.keywords.primary.map(kw => `<span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${kw}</span>`).join('')}
                    </div>
                    <p class="text-sm text-gray-600 font-semibold mt-2">Ø«Ø§Ù†ÙˆÙŠØ©:</p>
                    <div class="flex flex-wrap gap-2 mt-1">
                         ${contentBrief.keywords.secondary.map(kw => `<span class="bg-gray-200 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${kw}</span>`).join('')}
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-indigo-700">Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-2 mt-2">
                        ${contentBrief.outline.map(item => `<li><span class="font-semibold">${item.heading}</span><ul class="list-disc list-inside pr-4">${item.subpoints.map(sp => `<li>${sp}</li>`).join('')}</ul></li>`).join('')}
                    </ul>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-indigo-700">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                        ${contentBrief.internalLinking.map(link => `<li>${link}</li>`).join('')}
                    </ul>
                </div>
            `;
        }

        function displayEeatResults(eeatAnalysis) {
            const createSection = (title, data) => `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-gray-700">${title} (Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: ${data.score}/5)</h4>
                    <p class="text-sm text-gray-600 mt-1">${data.explanation}</p>
                    <p class="text-sm text-gray-800 mt-2 p-2 bg-green-100 border-r-2 border-green-500"><span class="font-semibold">Ø§Ù‚ØªØ±Ø§Ø­:</span> ${data.suggestion}</p>
                </div>
            `;
            ui.eeat.container.innerHTML = `
                ${createSection('Ø§Ù„Ø®Ø¨Ø±Ø© (Experience)', eeatAnalysis.experience)}
                ${createSection('Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„ØªØ®ØµØµÙŠØ© (Expertise)', eeatAnalysis.expertise)}
                ${createSection('Ø§Ù„Ø³Ù„Ø·Ø© (Authoritativeness)', eeatAnalysis.authoritativeness)}
                ${createSection('Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© (Trustworthiness)', eeatAnalysis.trustworthiness)}
            `;
        }

        function displayClusterResults(topicClusters) {
            topicClusters.forEach(cluster => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-purple-700">${cluster.topic}</h4><p class="text-sm text-gray-600 mt-1">${cluster.description}</p>`;
                ui.cluster.container.appendChild(card);
            });
        }

        function displayPersonaResults(audiencePersona) {
            ui.persona.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h3 class="font-bold text-blue-700 text-xl text-center mb-4">${audiencePersona.personaName}</h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-gray-800">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙŠÙ…ÙˆØºØ±Ø§ÙÙŠØ©:</h4>
                            <p class="text-sm text-gray-600">${audiencePersona.demographics}</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Ø§Ù„Ø£Ù‡Ø¯Ø§Ù:</h4>
                            <ul class="list-disc list-inside text-sm text-gray-600">${audiencePersona.goals.map(g => `<li>${g}</li>`).join('')}</ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ù„Ù…:</h4>
                            <ul class="list-disc list-inside text-sm text-gray-600">${audiencePersona.painPoints.map(p => `<li>${p}</li>`).join('')}</ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Ù‚Ù†ÙˆØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„:</h4>
                            <div class="flex flex-wrap gap-2 mt-1">
                                ${audiencePersona.communicationChannels.map(c => `<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${c}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function displayCompetitorResults(competitorAnalysis) {
             ui.competitor.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© (ÙÙŠ ØµÙØ­ØªÙƒ)</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${competitorAnalysis.strengths.map(s => `<li>${s}</li>`).join('')}</ul>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù (ÙÙŠ ØµÙØ­ØªÙƒ)</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${competitorAnalysis.weaknesses.map(w => `<li>${w}</li>`).join('')}</ul>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">ÙØ¬ÙˆØ§Øª Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© (Ù…Ø§ ÙŠØºØ·ÙŠÙ‡ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙˆÙ†)</h4>
                     <div class="space-y-2 mt-2">
                        ${competitorAnalysis.keywordGaps.map(g => `<div class="p-2 border-r-2 border-red-200"><p class="font-semibold text-sm">${g.keyword}:</p><p class="text-sm text-gray-600">${g.explanation}</p></div>`).join('')}
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">ØªÙˆØµÙŠØ§Øª Ù„Ù„ØªÙÙˆÙ‚</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${competitorAnalysis.recommendations.map(r => `<li>${r}</li>`).join('')}</ul>
                </div>
            `;
        }

        function displayRepurposeResults(repurposingIdeas) {
            repurposingIdeas.forEach(idea => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-orange-700">${idea.format}</h4><p class="text-sm text-gray-600 mt-1">${idea.idea}</p>`;
                ui.repurpose.container.appendChild(card);
            });
        }

        function displayDraftResults(articleDraft) {
            ui.draft.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h3 class="font-bold text-green-700 text-2xl mb-4">${articleDraft.title}</h3>
                    <div class="space-y-4">
                        <div><h4 class="font-semibold text-gray-800 text-lg">Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</h4><p class="text-sm text-gray-600 mt-1">${articleDraft.introduction}</p></div>
                        ${articleDraft.sections.map(section => `<div><h4 class="font-semibold text-gray-800 text-lg">${section.heading}</h4><p class="text-sm text-gray-600 mt-1">${section.paragraph}</p></div>`).join('')}
                        <div><h4 class="font-semibold text-gray-800 text-lg">Ø§Ù„Ø®Ø§ØªÙ…Ø©</h4><p class="text-sm text-gray-600 mt-1">${articleDraft.conclusion}</p></div>
                    </div>
                </div>
            `;
        }

        function displayCalendarResults(contentCalendar) {
            contentCalendar.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-pink-700">${item.day}</h4><p class="text-sm text-gray-800 mt-1"><span class="font-semibold">Ø§Ù„ØµÙŠØºØ©:</span> ${item.format}</p><p class="text-sm text-gray-600 mt-1"><span class="font-semibold">Ø§Ù„ÙÙƒØ±Ø©:</span> ${item.idea}</p>`;
                ui.calendar.container.appendChild(card);
            });
        }
        
        function displayTenXResults(tenXBrief) {
            ui.tenX.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-purple-700">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‚ØªØ±Ø­ (Ø£ÙØ¶Ù„ Ù…Ù† Ø§Ù„Ù…Ù†Ø§ÙØ³)</h4>
                    <p class="text-sm text-gray-600">${tenXBrief.suggestedTitle}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-purple-700">Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-2 mt-2">
                        ${tenXBrief.detailedOutline.map(item => `<li><span class="font-semibold">${item.heading}</span><ul class="list-disc list-inside pr-4">${item.subpoints.map(sp => `<li>${sp}</li>`).join('')}</ul></li>`).join('')}
                    </ul>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-purple-700">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ø¥Ø¶Ø§ÙØ© Ù‚ÙŠÙ…Ø© ÙØ±ÙŠØ¯Ø©</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                        ${tenXBrief.valueAddSuggestions.map(link => `<li>${link}</li>`).join('')}
                    </ul>
                </div>
            `;
        }
        
        function displayJourneyResults(journeyCalendar) {
             journeyCalendar.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-pink-700">Ù…Ø±Ø­Ù„Ø© ${item.stage}</h4><p class="text-sm text-gray-800 mt-1"><span class="font-semibold">Ø§Ù„ØµÙŠØºØ©:</span> ${item.format}</p><p class="text-sm text-gray-600 mt-1"><span class="font-semibold">Ø§Ù„ÙÙƒØ±Ø©:</span> ${item.idea}</p>`;
                ui.journey.container.appendChild(card);
            });
        }

        function displayPainPointResults(contentIdeas) {
            contentIdeas.forEach(idea => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-cyan-700">${idea.title} <span class="text-xs bg-cyan-100 text-cyan-800 font-medium px-2 py-0.5 rounded-full">${idea.format}</span></h4><p class="text-sm text-gray-600 mt-1">${idea.description}</p>`;
                ui.painPoint.container.appendChild(card);
            });
        }


        function displayProductFaqResults(productFaqs) {
            productFaqs.forEach(faq => {
                const details = document.createElement('details');
                details.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200';
                details.innerHTML = `<summary class="font-bold text-teal-700">${faq.question}</summary><p class="mt-2 text-sm text-gray-600 pr-4">${faq.answer}</p>`;
                ui.productFaq.container.appendChild(details);
            });
        }

        function displayYoutubeSeoResults(youtubeSeo) {
            ui.youtubeSeo.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‚ØªØ±Ø­</h4><p class="text-sm text-gray-600">${youtubeSeo.title}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ø§Ù„ÙˆØµÙ Ø§Ù„Ù…Ù‚ØªØ±Ø­</h4><p class="text-sm text-gray-600 whitespace-pre-line">${youtubeSeo.description}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª (Tags) Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h4>
                    <div class="flex flex-wrap gap-2 mt-1">${youtubeSeo.tags.map(tag => `<span class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${tag}</span>`).join('')}</div>
                </div>
            `;
        }

        function displayEmailResults(emailDraft) {
            ui.email.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-teal-700">Ø³Ø·Ø± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</h4><p class="text-sm text-gray-600">${emailDraft.subject}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-teal-700">Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</h4><p class="text-sm text-gray-600 whitespace-pre-line">${emailDraft.body}</p>
                </div>
            `;
        }

        function displayAltTextResults(altTexts) {
            altTexts.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-gray-700">ÙˆØµÙ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ØªØ®ÙŠÙ„Ø©</h4><p class="text-sm text-gray-600 italic mt-1">"${item.description}"</p><p class="text-sm text-gray-800 mt-2 p-2 bg-blue-100 border-r-2 border-blue-500"><span class="font-semibold">Ø§Ù„Ù†Øµ Ø§Ù„Ø¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‚ØªØ±Ø­ (Alt Text):</span> ${item.altText}</p>`;
                ui.altText.container.appendChild(card);
            });
        }

        function displayAbTestResults(abTestHeadlines) {
            abTestHeadlines.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-indigo-700 text-lg">"${item.headline}"</h4><p class="text-sm text-gray-800 mt-2"><span class="font-semibold">Ø§Ù„Ø²Ø§ÙˆÙŠØ©:</span> ${item.angle}</p><p class="text-sm text-gray-600 mt-1"><span class="font-semibold">Ø§Ù„ÙØ±Ø¶ÙŠØ©:</span> ${item.hypothesis}</p>`;
                ui.abTest.container.appendChild(card);
            });
        }

        function displayAiSeoTopPromptResults(report) {
            const { analysisReport, masterPrompt } = report;
            ui.aiSeoTopPrompt.container.innerHTML = `
                <h2 class="text-2xl font-bold text-gray-800 text-center">ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ù€ Prompt Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                    <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ­Ù„ÙŠÙ„ -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-bold text-gray-700 border-b pb-2">Ù…Ù„Ø®Øµ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†</h3>
                        <p class="text-sm text-gray-600 bg-gray-50 p-3 rounded-lg">${analysisReport.summary}</p>
                        
                        <h3 class="text-lg font-bold text-gray-700 border-b pb-2 mt-4">Ø£Ù‡Ù… ÙØ¬ÙˆØ§Øª Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©</h3>
                        <ul class="list-disc list-inside text-sm text-gray-600 bg-gray-50 p-3 rounded-lg space-y-1">${analysisReport.keywordGaps.map(g => `<li>${g}</li>`).join('')}</ul>

                        <h3 class="text-lg font-bold text-gray-700 border-b pb-2 mt-4">Ø£Ù‡Ù… ØªØ­Ø³ÙŠÙ†Ø§Øª E-E-A-T</h3>
                         <ul class="list-disc list-inside text-sm text-gray-600 bg-gray-50 p-3 rounded-lg space-y-1">${analysisReport.eeatImprovements.map(i => `<li>${i}</li>`).join('')}</ul>
                    </div>
                    <!-- Ù‚Ø³Ù… Ø§Ù„Ù€ Prompt -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-bold text-gray-700 border-b pb-2">Ø§Ù„Ù€ Prompt Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ù…Ù‚ØªØ±Ø­</h3>
                        <textarea id="master-prompt-textarea" readonly class="w-full h-64 p-3 border rounded-lg bg-gray-50 text-sm">${masterPrompt}</textarea>
                        <div class="flex gap-4">
                             <button onclick="copyToClipboard(document.getElementById('master-prompt-textarea').value)" class="flex-1 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Ù†Ø³Ø® Ø§Ù„Ù€ Prompt</button>
                             <button id="write-article-btn" class="flex-1 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700">
                                 <span id="write-article-btn-text">Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù€ Prompt</span>
                                 <span id="write-article-btn-loader" class="hidden">Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©...</span>
                             </button>
                        </div>
                    </div>
                </div>
                <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ -->
                <div id="final-article-container" class="mt-6 pt-6 border-t"></div>
            `;
            // Add event listener to the newly created button
            document.getElementById('write-article-btn').addEventListener('click', () => handleWriteArticleFromPrompt(masterPrompt));
        }

        function displayPruningResults(decision) {
            const icons = {
                'Prune': 'ğŸ—‘ï¸',
                'Improve': 'ğŸ”„',
                'Consolidate': 'ğŸ”—'
            };
            ui.pruning.container.innerHTML = `
                 <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700 text-xl text-center">${icons[decision.recommendation] || 'ğŸ“'} ${decision.recommendation}</h4>
                    <p class="text-sm text-gray-600 mt-2"><span class="font-semibold">Ø§Ù„Ø³Ø¨Ø¨:</span> ${decision.reason}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-red-700">Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${decision.nextSteps.map(s => `<li>${s}</li>`).join('')}</ul>
                </div>
            `;
        }

        function displaySmartLinkingResults(opportunities) {
            if (opportunities.length === 0) {
                 ui.smartLinking.container.innerHTML = `<p class="text-center text-gray-500">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙØ±Øµ Ø±Ø¨Ø· ÙˆØ§Ø¶Ø­Ø©.</p>`;
                 return;
            }
            opportunities.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<p class="text-sm text-gray-600">ÙÙŠ Ù…Ù‚Ø§Ù„Ùƒ:</p><a href="${item.sourceArticleUrl}" target="_blank" class="text-xs text-blue-500 hover:underline truncate block">${item.sourceArticleUrl}</a><p class="mt-2 text-sm text-gray-800 p-2 bg-blue-100 border-r-2 border-blue-500">"<span class="font-semibold">${item.anchorText}</span>"</p><p class="text-xs text-gray-500 mt-1">Ø§Ù„Ø³ÙŠØ§Ù‚: ...${item.surroundingContext}...</p>`;
                ui.smartLinking.container.appendChild(card);
            });
        }
        
        function displayPaaResults(paaTree) {
             paaTree.forEach(item => {
                const details = document.createElement('details');
                details.className = 'bg-gray-50 p-2 rounded-lg border border-gray-200';
                details.innerHTML = `
                    <summary class="font-bold text-green-700">${item.mainQuestion}</summary>
                    <ul class="list-disc list-inside text-sm text-gray-600 pr-6 mt-2 space-y-1">
                        ${item.subQuestions.map(sq => `<li>${sq}</li>`).join('')}
                    </ul>
                `;
                ui.paa.container.appendChild(details);
            });
        }

        function displayEeatBoosterResults(eeatSignals) {
            const icons = { 'Experience': 'ğŸ“', 'Expertise': 'ğŸ“', 'Authoritativeness': 'ğŸ‘‘', 'Trustworthiness': 'ğŸ›¡ï¸' };
            eeatSignals.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-gray-700">${icons[item.signalType] || 'â­'} ${item.signalType}</h4><p class="text-sm text-gray-600 mt-1">${item.explanation}</p><p class="text-sm text-gray-800 mt-2 p-2 bg-gray-100 border-r-2 border-gray-500"><span class="font-semibold">Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù‚ØªØ±Ø­:</span> ${item.suggestedText}</p>`;
                ui.eeatBooster.container.appendChild(card);
            });
        }

        function displaySerpResults(serpOpportunities) {
            serpOpportunities.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm';
                card.innerHTML = `<h4 class="font-bold text-sky-700">${item.feature}</h4><p class="text-sm text-gray-600 mt-1">${item.opportunity}</p><p class="text-sm text-gray-800 mt-2 p-2 bg-sky-100 border-r-2 border-sky-500"><span class="font-semibold">Ù†ØµÙŠØ­Ø© Ø¹Ù…Ù„ÙŠØ©:</span> ${item.actionableTip}</p>`;
                ui.serp.container.appendChild(card);
            });
        }

        function displayRefreshResults(refreshBrief) {
            ui.refresh.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-emerald-700">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‚Ø¯ÙŠÙ…Ø© ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ«Ù‡Ø§</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${refreshBrief.outdatedInfo.map(i => `<li>${i}</li>`).join('')}</ul>
                </div>
                 <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-emerald-700">Ø£Ø³Ø¦Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙŠØ·Ø±Ø­Ù‡Ø§ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${refreshBrief.newQuestions.map(q => `<li>${q}</li>`).join('')}</ul>
                </div>
                 <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-emerald-700">Ø¹Ù†Ø§ÙˆÙŠÙ† ÙØ±Ø¹ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù‚ØªØ±Ø­Ø©</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${refreshBrief.newSubheadings.map(h => `<li>${h}</li>`).join('')}</ul>
                </div>
            `;
        }

        function displayAuthorityResults(authorityMap) {
            const { pillarPageIdea, clusterTopics } = authorityMap;
            let html = `
                <div class="text-center p-4 border-2 border-dashed border-rose-500 rounded-lg">
                    <h3 class="font-bold text-rose-800 text-lg">Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Pillar Page)</h3>
                    <h4 class="font-semibold text-rose-600">${pillarPageIdea.title}</h4>
                    <p class="text-xs text-gray-500 mt-1">${pillarPageIdea.description}</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
            `;
            clusterTopics.forEach(topic => {
                html += `
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                        <h4 class="font-bold text-rose-700">${topic.title}</h4>
                        <p class="text-sm text-gray-600 mt-1">${topic.description}</p>
                        <p class="text-xs text-gray-800 mt-2 p-2 bg-rose-100"><span class="font-semibold">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø±Ø¨Ø·:</span> ${topic.linkingStrategy}</p>
                    </div>
                `;
            });
            html += `</div>`;
            ui.authority.container.innerHTML = html;
        }

        function displayAudienceResults(audienceVoice) {
            ui.audience.container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-slate-700">Ø§Ù„Ù†Ø¨Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¬Ù…Ù‡ÙˆØ±</h4>
                    <p class="text-sm text-gray-600">${audienceVoice.overallTone}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-slate-700">Ø£Ù‡Ù… Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</h4>
                    <div class="flex flex-wrap gap-2 mt-1">
                        ${audienceVoice.commonTerms.map(t => `<span class="bg-slate-200 text-slate-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${t}</span>`).join('')}
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h4 class="font-bold text-slate-700">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£ÙƒØ«Ø± ØªÙƒØ±Ø§Ø±Ù‹Ø§</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mt-2">${audienceVoice.frequentQuestions.map(q => `<li>${q}</li>`).join('')}</ul>
                </div>
            `;
        }


        // --- Helper Functions ---
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => { 
                showToast(); 
            }).catch(err => {
                console.error('Failed to copy: ', err);
                showError('ÙØ´Ù„ Ù†Ø³Ø® Ø§Ù„Ù†Øµ.');
            });
        }

        function showToast() {
            const toast = document.getElementById('toast-notification');
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function setLoading(isLoading, btnElement) {
            if (typeof btnElement === 'string') {
                btnElement = document.getElementById(btnElement);
            }
            if (btnElement) {
                 btnElement.disabled = isLoading;
                 const textSpan = btnElement.querySelector('span[id*="-text"]');
                 const loaderSpan = btnElement.querySelector('span[id*="-loader"]');
                 
                 if (textSpan) {
                    textSpan.classList.toggle('hidden', isLoading);
                 }
                 if (loaderSpan) {
                    loaderSpan.classList.toggle('hidden', !isLoading);
                 }
            }
        }

        function showError(message) {
            ui.errorMessage.textContent = message;
            ui.errorContainer.classList.remove('hidden');
        }
    </script>
</body>
</html>

